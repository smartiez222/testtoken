

<!doctype html>
<html id="html" lang="en">

<!-- Mirrored from etherscan.io/tokenapprovalchecker by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 03 Dec 2024 07:34:07 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head><title>
	Token Approvals | Etherscan
</title><meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" /><meta name="author" content="etherscan.io" /><meta name="Description" content="Review and update your token approvals for any smart contract." /><meta name="keywords" content="ethereum, explorer, ether, search, blockchain, crypto, currency" /><meta name="format-detection" content="telephone=no" />
    <meta property="og:title" content="Token Approvals | Etherscan" /> <meta property="og:description" content="Review and update your token approvals for any smart contract." /> <meta property="og:type" content="website" /> <meta property="og:site_name" content="Ethereum (ETH) Blockchain Explorer" /> <meta property="og:url" content="tokenapprovalchecker.html" /> <meta property="og:image" content="images/brandassets/og.jpg" /> <meta property="og:image:alt" content="Visit Etherscan.io" /> <meta name="twitter:card" content="summary_large_image" /> <meta name="twitter:title" content="Token Approvals | Etherscan" /> <meta property="twitter:description" content="Review and update your token approvals for any smart contract." /> <meta name="twitter:site" content="@etherscan" /> <meta property="twitter:image" content="images/brandassets/og.jpg" /> <meta name="twitter:image:alt" content="Visit Etherscan.io" /> 
<link rel="shortcut icon" href="images/favicon3.ico" />
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-T1JC9RNQXV"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());
        gtag('config','G-T1JC9RNQXV', { 'anonymize_ip': true });
    </script>
    

    <script>
        //Search box text ad
        var availableAd = [];
        var gotAd = [];

        
        availableAd = ["<div class='p-2'><a href='https://goto.etherscan.com/rd/V1FU4H4F7PC1VI6MSG1UZWJ3H' rel='nofollow' target='_blank' data-bs-toggle='tooltip' data-bs-trigger='hover' title='Links to an External Advertiser site' class='search-panel-ads d-flex align-items-center p-2 rounded'><div class='me-2'><img width='22' src='/images/gen/blockscan.svg' alt='Blockscan'></div><div class='text-truncate'><h6 class='d-flex align-items-center fs-sm text-dark mb-0'><div class='text-truncate me-2'>Blockscan Multichain Explorer</div><span class='d-none d-sm-inline-block small bg-white text-muted rounded-1 border px-2 py-1 ms-1'>Sponsored</span><span class='d-inline-block d-sm-none small bg-white text-muted rounded-1 border px-2 py-1 ms-1'>Ad</span></h6></div></a></div>", "<div class='p-2'><a href='https://moonpay-affiliate-program.sjv.io/GmG56B' rel='nofollow' target='_blank' data-bs-toggle='tooltip' data-bs-trigger='hover' title='Links to an External Advertiser site' class='search-panel-ads d-flex align-items-center p-2 rounded'><div class='me-2'><img width='22' src='/images/gen/moonpay_20.png' alt='Ads'></div><div class='text-truncate'><h6 class='d-flex align-items-center fs-sm text-dark mb-0'><div class='text-truncate me-2'>MoonPay: Buy & Sell Crypto with a credit card.</div><span class='d-none d-sm-inline-block small bg-white text-muted rounded-1 border px-2 py-1 ms-1'>Sponsored</span><span class='d-inline-block d-sm-none small bg-white text-muted rounded-1 border px-2 py-1 ms-1'>Ad</span></h6></div></a></div>", "<div class='p-2'><a href='https://goto.etherscan.com/rd/HNJJWQETI5PX21JPJ2YFP9AYF' rel='nofollow' target='_blank' data-bs-toggle='tooltip' data-bs-trigger='hover' title='Links to an External Advertiser site' class='search-panel-ads d-flex align-items-center p-2 rounded'><div class='me-2'><img width='22' src='/images/gen/etoro_20.png' alt='eToro'></div><div class='text-truncate'><h6 class='d-flex align-items-center fs-sm text-dark mb-0'><div class='text-truncate me-2'>eToro - 100+ cryptoassets</div><span class='d-none d-sm-inline-block small bg-white text-muted rounded-1 border px-2 py-1 ms-1'>Sponsored</span><span class='d-inline-block d-sm-none small bg-white text-muted rounded-1 border px-2 py-1 ms-1'>Ad</span></h6></div></a></div>"];
        gotAd = ["ShowAds					"];
        
    </script>

    <!-- Font -->
    <link rel="preconnect" href="https://fonts.googleapis.com/" /><link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin="" /><link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&amp;display=swap" rel="stylesheet" />

    <link rel="stylesheet" href="assets/vendor/font-awesome/css/all.minf97b.css?v=24.11.3.1">
    <link rel="stylesheet" href="assets/vendor/autocomplete/dist/css/autocomplete.minf97b.css?v=24.11.3.1" />

    <link rel="stylesheet" href="assets/css/theme.minf97b.css?v=24.11.3.1">
    <link rel="stylesheet" href="assets/css/customf97b.css?v=24.11.3.1">

    <script src="assets/vendor/jquery/dist/jquery.minf97b.js?v=24.11.3.1"></script>
    <script type="text/javascript" src="jss/blockiesf97b.js?v=24.11.3.1"></script>

    <script type="text/javascript" src="assets/js/theme-appearancef97b.js?v=24.11.3.1"></script>

    <style>
        .autolink-safari a {
            pointer-events: none !important;
            text-decoration: none !important;
            color: inherit !important;
        }

        #masterNoticeBar div.alert a{
            color:#fff !important; 
            text-decoration: underline !important;
        }
        .word-break{word-break: break-all !important;}
        .min-with50{min-width: 50px !important;}

    </style>

    <style> .dbjzbh9jkpg { -ms-flex-pack: center; justify-content: center; } .aihphexvndn { border-top: 1px solid #e7eaf3 !important; } body.dark-mode .aihphexvndn { border-color: #18365b !important; } @media (min-width: 992px) { .bxda1lqkf7q { display: block !important; } } @media (min-width: 992px) { .ctfrwggcq1g { display: inline-block !important; } }  </style>
    
    <link rel="stylesheet" type="text/css" href="assets/vendor/datatables/datatables.minf97b.css?v=24.11.3.1" />
    <style>
        /*for tooltip for button disable*/
        .btnTooltipCls {
            display: inline-block;
        }

            .btnTooltipCls .btn[disabled] {
                pointer-events: none;
            }

        .btnTooltipCls {
            cursor: not-allowed;
        }

        .datatable-truncate {
            max-width: 150px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        w3m-modal {
            --w3m-z-index: 1020;
        }
        .custome-token-logo div.position-relative{
            display: inline-block !important;
        }
    </style>
    <!-- Custom Styles -->
    <style>
        [data-bs-theme="light"],
        [data-bs-theme=auto] {
            --bg-img-wave: url(assets/svg/patterns/waves.svg);
        }

        [data-bs-theme="dark"],
        [data-bs-theme="dim"] {
            --bg-img-wave: url(assets/svg/patterns/waves-light.svg);
        }
    </style>
</head>


<body id="body" class="d-flex flex-column min-vh-100">

    <section id="masterNoticeBar">
        <!--Maintenance Message-->
        
        <!--End Maintenance Message-->
    </section>

    <!-- ========== TOPBAR ========== -->
    <section id="masterTopBar" class="sticky-top bg-white border-bottom py-2 d-print-none">
        <div class="container-xxl d-flex align-items-center justify-content-between">
            
            <div id="ethPrice" class="d-none d-md-flex align-items-center gap-4 w-100 fs-sm">                
                <div class="text-muted"><span class="text-muted">ETH Price:</span> <a href='chart/etherprice.html'>$3,625.46</a><span data-bs-toggle="tooltip" data-bs-placement="top" title="Changes in the last 24 hours"><span class='text-danger'> (-1.54%)</span></span></div><div class='text-muted d-none d-lg-block'><i class="fad fa-gas-pump me-1"></i> Gas: <span id='spanGasTooltip' data-bs-toggle='tooltip' data-bs-html='true' title='Base Fee: 15.096 Gwei<br>Priority Fee: 0.079 Gwei'><a href='gastracker.html'><span class='gasPricePlaceHolder'>15.175</span> Gwei</a></span></div>
                </div>

            <div class="d-flex justify-content-end align-items-center gap-2 w-100">
                <div id="frmMaster" class="search-panel-container flex-grow-1 position-relative" style="width: 30rem;">
	
                    <form action="https://etherscan.io/search" method="GET" autocomplete="off" spellcheck="false" class="auto-search-max-height">
                        <span class="d-flex align-items-center position-absolute top-0 bottom-0" title="Search" style="left: 0.75rem;">
                            <i class="fa-regular fa-search fs-5 text-secondary"></i>
                        </span>

                        <input type="text" class="form-control form-control-lg bg-light bg-focus-white pe-20" autocomplete="off" spellcheck="false" id="search-panel" name="q" placeholder="Search by Address / Txn Hash / Block / Token / Domain Name" aria-describedby="button-header-search" onkeyup="handleSearchText(this);" maxlength="68" style="padding-left: 2.375rem;" />

                        <a href="javascript:;" class="clear-icon d-none align-items-center position-absolute top-0 bottom-0 my-auto d-flex align-items-center" style="right: 3.375rem; cursor:pointer;">
                            <i class="fa-regular fa-xmark fs-5 text-secondary"></i>
                        </a>
                        <a href="javascript:;" class="search-icon d-none btn btn-sm btn-white my-1.5 align-items-center position-absolute top-0 bottom-0 d-flex align-items-center" style="right: 0.75rem; cursor:pointer;">
                            <i class="fa-regular fa-arrow-turn-down-left text-secondary"></i>
                        </a>

                        <input type="hidden" value="" id="hdnSearchText" />
                        <input type="hidden" value="" id="hdnSearchLabel" />
                        <input id="hdnIsTestNet" value="False" type="hidden" />

                        <span class="shortcut-slash-icon align-items-center position-absolute top-0 bottom-0 align-items-center d-none d-sm-flex" title="Search" style="right: 0.5rem;">
                            <kbd class="bg-dark bg-opacity-25 fw-semibold px-2 py-0.5 text-white">/</kbd>
                        </span>
                    </form>
                
</div>

                <div id="divFeatureExplainer" class="dropdown d-none d-lg-block">
                    <button class="btn btn-lg btn-white content-center p-0" type="button" id="dropdownTopbarFeatures" data-bs-toggle="dropdown" aria-expanded="false" style="width: 2.375rem; height: 2.375rem;">
                        <i class="far fa-book-open fa-fw"></i>
                        
                        <div id="divWithoutRoundCircle">
                            <span class="visually-hidden">New alerts</span>
                        </div>
                    </button>

                    <div class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdownTopbarFeatures" style="min-width: 16rem; max-width: 20rem;">
                        <div class="overflow-y-auto scrollbar-custom" style="max-height: 15rem;">
                            <div id="divDefaultList">
                                
                                <a class="dropdown-item d-flex align-items-baseline gap-1" href="https://info.etherscan.com/site-settings/">
                                    <i class="far fa-question-circle fa-fw"></i>
                                    <div class="text-truncate">What can Site Settings be Used For?</div>
                                </a>
                                <a class="dropdown-item d-flex align-items-baseline gap-1" href="https://info.etherscan.com/optimized-search-bar/">
                                    <i class="far fa-question-circle fa-fw"></i>
                                    <div class="text-truncate">Using the Optimized Search Bar</div>
                                </a>
                                <a class="dropdown-item d-flex align-items-baseline gap-1" href="https://info.etherscan.com/public-name-tags-labels/">
                                    <i class="far fa-question-circle fa-fw"></i>
                                    <div class="text-truncate">What are Public Name Tags and Labels?</div>
                                </a>
                                <a class="dropdown-item d-flex align-items-baseline gap-1" href="https://info.etherscan.com/cards/">
                                    <i class="far fa-question-circle fa-fw"></i>
                                    <div class="text-truncate">What are Etherscan Cards?</div>
                                </a>
                            </div>
                            
                        </div>
                        <hr class="dropdown-divider">
                        <a class="dropdown-item d-flex align-items-baseline gap-1" href="https://info.etherscan.com/">
                            <i class="far fa-book-open fa-fw"></i> All Knowledge Base articles
                        </a>
                    </div>
                </div>

                <div id="divThemeSetting" class="dropdown d-none d-lg-block">
                    <button class="btn btn-lg btn-white text-primary content-center" type="button" id="dropdownMenuTopbarSettings" data-bs-auto-close="outside" data-bs-toggle="dropdown" aria-expanded="false" style="width: 2.375rem; height: 2.375rem;">
                        <span class="theme-btn-main"><i class="far fa-sun-bright theme-icon-active" data-href="#fa-sun-bright"></i></span>
                    </button>

                    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdownMenuTopbarSettings">
                        <li>
                            <button type="button" class="dropdown-item theme-btn active" data-bs-theme-value="light" onclick="setThemeMode('light');">
                                <i class="far fa-sun-bright fa-fw dropdown-item-icon theme-icon me-1" data-href="#fa-sun-bright"></i> Light
                            </button>
                        </li>
                        <li>
                            <button type="button" class="dropdown-item theme-btn" data-bs-theme-value="dim" onclick="setThemeMode('dim');">
                                <i class="far fa-moon-stars fa-fw dropdown-item-icon theme-icon me-1" data-href="#fa-moon-stars"></i> Dim
                            </button>
                        </li>
                        <li>
                            <button type="button" class="dropdown-item theme-btn" data-bs-theme-value="dark" onclick="setThemeMode('dark');">
                                <i class="far fa-moon fa-fw dropdown-item-icon theme-icon me-1" data-href="#fa-moon"></i> Dark
                            </button>
                        </li>
                        <li>
                            <hr class="dropdown-divider">
                        </li>
                        <li>
                            <a class="dropdown-item" href="settings.html">
                                <i class="far fa-gear fa-fw dropdown-item-icon me-1"></i> Site Settings <i class="far fa-arrow-right ms-1"></i>
                            </a>
                        </li>
                    </ul>
                </div>

                <div id="divTestNet" class="dropdown d-none d-lg-block">
                    <button class="btn btn-lg btn-white content-center" type="button" id="dropdownTopbarNetworks" data-bs-toggle="dropdown" aria-expanded="false" style="width: 2.375rem; height: 2.375rem;">
                        <img width="10" data-img-theme="light" src="images/svg/brands/ethereum-original.svg" alt="Ethereum Logo">
                        <img width="10" data-img-theme="darkmode" src="images/svg/brands/ethereum-original-light.svg" alt="Ethereum Logo">
                    </button>
                    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdownTopbarNetworks">
                        
                        <li>
                            <a href="index.html" id="LI_Mainnet" class="dropdown-item active active">
                                Ethereum Mainnet
                            </a>
                        </li>
                        <li>
                            <a href="https://cn.etherscan.com/?lang=zh-CN" id="LI_Mainnet_CN" class="dropdown-item">
                                Ethereum Mainnet <span class="badge border bg-light text-dark ms-1">CN</span>
                            </a>
                        </li>
                        <li>
                            <a href="https://beaconscan.com/" id="LI2" class="dropdown-item">
                                Beaconscan <span class="badge border bg-light text-dark ms-1">ETH2</span>
                            </a>
                        </li>
                        <li>
                            <hr class="dropdown-divider">
                        </li>
                       
                        <li>
                            <a href="https://sepolia.etherscan.io/" id="LI9" class="dropdown-item">
                                Sepolia Testnet
                            </a>
                        </li>
                        <li>
                            <a href="https://holesky.etherscan.io/" id="A2" class="dropdown-item">
                                Holesky Testnet
                            </a>
                        </li>
                        
                    </ul>
                </div>
            </div>
        </div>
    </section>
    <!-- ========== TOPBAR ========== -->

    <!-- ========== HEADER ========== -->
    <header id="masterHeader" class="header border-bottom d-print-none">
        <nav class="navbar navbar-expand-lg navbar-light py-3 py-lg-0">
            <div class="container-xxl position-relative">
                <a class="navbar-brand" href="index.html" target="_parent" aria-label="Etherscan">
                    
                    <img width="150" data-img-theme="light" src="assets/svg/logos/logo-etherscanc1b6.svg?v=0.0.5" alt="Etherscan Logo">
                    <img width="150" data-img-theme="darkmode" src="assets/svg/logos/logo-etherscan-lightc1b6.svg?v=0.0.5" alt="Etherscan Logo">
                </a>

                <div class="d-flex align-items-center gap-4">
                    
                    <a class="link-dark d-block d-lg-none" href="login.html">
                        <i class="far fa-user-circle me-1"></i> Sign In
                    </a>
                    
                    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                </div>

                <div class="collapse navbar-collapse justify-content-end" id="navbarSupportedContent">
                    <ul class="navbar-nav gap-1 gap-lg-0 pt-4 pt-lg-0">
                        <li class="nav-item">
                            <a href="index.html" id="LI_default" class="nav-link" aria-current="page">
                                Home
                            </a>
                        </li>

                        <!-- Blockchain -->
                        <li class="nav-item dropdown">
                            <a href="javascript:;" id="LI_blockchain" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown" aria-expanded="false">Blockchain</a>
                            <ul class="dropdown-menu dropdown-menu-border" style="min-width: 14rem;">
                                <li>
                                    <a href="txs.html" id="LI12" class="dropdown-item">
                                        Transactions
                                    </a>
                                </li>
                                <li>
                                    <a href="txsPending.html" id="LI16" class="dropdown-item">
                                        Pending Transactions
                                    </a>
                                </li>
                                <li>
                                    <a href="txsInternal.html" id="LI14" class="dropdown-item">
                                        Contract Internal Transactions
                                    </a>
                                </li>
                                
                                <li>
                                    <a href="txsBeaconDeposit.html" id="LI22" class="dropdown-item">
                                        Beacon Deposits
                                    </a>
                                </li>
                                
                                <li>
                                    <a href="txsBeaconWithdrawal.html" id="LI_BeaconWithdrawals" class="dropdown-item">
                                        Beacon Withdrawals
                                    </a>
                                </li>
                                <li>
                                    <a href="txsBlobs.html" id="LI_txsBlobs" class="dropdown-item">
                                        View Blobs
                                    </a>
                                </li>
                                <li>
                                    <hr class="dropdown-divider">
                                </li>
                                <li>
                                    <a href="blocks.html" id="LI_blocks" class="dropdown-item">
                                        View Blocks
                                    </a>
                                </li>
                                <li>
                                    <a href="blocks_forked.html" id="LI_blocks2" class="dropdown-item">
                                        Forked Blocks (Reorgs)
                                    </a>
                                </li>
                                
                                <li>
                                    <a href="uncles.html" id="LI8" class="dropdown-item">
                                        Uncles
                                    </a>
                                </li>
                                
                                <li>
                                    <hr class="dropdown-divider">
                                </li>
                                <li>
                                    <a href="accounts.html" id="LI_accountall" class="dropdown-item">
                                        Top Accounts
                                    </a>
                                </li>
                                <li>
                                    <a href="contractsVerified.html" id="LI_contract_verified" class="dropdown-item">
                                        Verified Contracts
                                    </a>
                                </li>
                            </ul>
                        </li>
                        <!-- End Blockchain -->

                        
                        <!-- Tokens -->
                        <li class="nav-item dropdown">
                            <a href="javascript:;" id="LI_tokens" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown" aria-expanded="false">Tokens</a>
                            <ul class="dropdown-menu dropdown-menu-border" style="min-width: 14rem;">
                                <li>
                                    <a href="tokens.html" id="LI21" class="dropdown-item">
                                        Top Tokens <span class="small text-muted">(ERC-20)</span>
                                    </a>
                                </li>
                                <li>
                                    <a href="tokentxns.html" id="LI1" class="dropdown-item">
                                        Token Transfers <span class="small text-muted">(ERC-20)</span>
                                    </a>
                                </li>
                            </ul>
                        </li>
                        <!-- End Tokens -->

                        <!-- NFTs -->
                        <li class="nav-item dropdown">
                            <a href="javascript:;" id="LI_Nfts" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown" aria-expanded="false">NFTs</a>
                            <ul class="dropdown-menu dropdown-menu-border" style="min-width: 14rem;">
                                
                                
                                
                                
                                
                                <li>
                                    <a href="nft-top-contracts.html" id="LI63" class="dropdown-item">
                                        Top NFTs
                                    </a>
                                </li>
                                <li>
                                    <a href="nft-top-mints.html" id="LI67" class="dropdown-item">
                                        Top Mints
                                    </a>
                                </li>
                                <li>
                                    <a href="nft-trades.html" id="LI64" class="dropdown-item">
                                        Latest Trades
                                    </a>
                                </li>
                                 <li>
                                    <a href="nft-transfers.html" id="LI65" class="dropdown-item">
                                        Latest Transfers
                                    </a>
                                </li>
                                 <li>
                                    <a href="nft-latest-mints.html" id="LI66" class="dropdown-item">
                                        Latest Mints
                                    </a>
                                </li>
                            </ul>
                        </li>
                        <!-- End NFTs -->

                        <!-- Defi -->
                        
                        
                        <!-- End Defi -->

                        <!-- Resrouces -->
                        <li class="nav-item dropdown">
                            <a href="javascript:;" id="LI_resources" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown" aria-expanded="false">Resources</a>
                            <ul class="dropdown-menu dropdown-menu-border" style="min-width: 14rem;">
                                <li>
                                    <a href="charts.html" id="LI_charts2" class="dropdown-item">
                                        Charts And Stats
                                    </a>
                                </li>
                                
                                <li>
                                    <a href="topstat.html" id="LI_topstat" class="dropdown-item">
                                        Top Statistics
                                    </a>
                                </li>
                                
                                <li>
                                    <a href="leaderboard/advanced-filter.html" id="LI_Leaderboard" class="dropdown-item">
                                        Leaderboard
                                    </a>
                                </li>
                                
                                
                                <li>
                                    <hr class="dropdown-divider">
                                </li>
                                <li>
                                    <a href="directory.html" id="LI62" class="dropdown-item">
                                        Directory
                                    </a>
                                </li>
                                <li>
                                    <a href="https://info.etherscan.com/newsletters/" id="LI60" class="dropdown-item">
                                        Newsletter
                                    </a>
                                </li>
                                <li>
                                    <a href="https://info.etherscan.com/" id="LI61" class="dropdown-item">
                                        Knowledge Base
                                    </a>
                                </li>
                                
                                
                            </ul>
                        </li>
                        <!-- End Resrouces -->

                        <!-- Developers -->
                        <li class="nav-item dropdown">
                            <a href="#" id="li_developers" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown" aria-expanded="false">Developers</a>
                            <ul class="dropdown-menu dropdown-menu-border" style="min-width: 14rem;">
                                <li>
                                    <a href="apis.html" id="LI5" class="dropdown-item">
                                        API Plans
                                    </a>
                                </li>
                                <li>
                                    <a href="https://docs.etherscan.io/etherscan-v2" id="LI6" class="dropdown-item" target="_blank">
                                        API Documentation
                                    </a>
                                </li>
                                <li>
                                    <hr class="dropdown-divider">
                                </li>
                                <li>
                                    <a href="code-reader.html" id="A1" class="dropdown-item">
                                        Code Reader <span class="badge border bg-light text-muted">Beta</span>
                                    </a>
                                </li>
                                <li>
                                    <a href="verifyContract.html" id="LI17" class="dropdown-item">
                                        Verify Contract
                                    </a>
                                </li>
                                <li>
                                    <a href="find-similar-contracts.html" id="LI55" class="dropdown-item">
                                        Similar Contract Search
                                    </a>
                                </li>
                                <li>
                                    <a href="searchcontract.html" id="LI53" class="dropdown-item">
                                        Smart Contract Search
                                    </a>
                                </li>
                                
                                <li>
                                    <a href="contractdiffchecker.html" id="LI54" class="dropdown-item">
                                        Contract Diff Checker
                                    </a>
                                </li>
                                <li>
                                    <hr class="dropdown-divider">
                                </li>
                                <li>
                                    <a href="vyper.html" id="LI27" class="dropdown-item">
                                        Vyper Online Compiler
                                    </a>
                                </li>
                                <li>
                                    <a href="opcode-tool.html" id="LI24" class="dropdown-item">
                                        Bytecode to Opcode
                                    </a>
                                </li>
                                <li>
                                    <a href="pushTx.html" id="LI10" class="dropdown-item">
                                        Broadcast Transaction
                                    </a>
                                </li>
                            </ul>
                        </li>
                        <!-- End Developers -->

                        <!-- More -->
                        <li class="nav-item dropdown position-initial">
                            <a href="javascript:;" id="LI_services2" class="nav-link dropdown-toggle active" role="button" data-bs-toggle="dropdown" aria-expanded="false">More</a>
                            <div class="dropdown-menu dropdown-menu-border dropdown-menu-mega">
                                <div class="row">
                                    <div class="col-lg order-last order-lg-first">
                                        <div class="d-flex flex-column bg-light h-100 rounded-3 p-5">
                                            <div>
                                                <h6>Tools &amp; Services</h6>
                                                <p>Discover more of Etherscan's tools and services in one place.</p>
                                            </div>

                                            <div class="mt-auto">
                                                <p class="text-muted mb-2">Sponsored</p>
                                                <a target="_blank" href="https://chat.blockscan.com/">
                                                    <img width="140" data-img-theme="light" src="images/svg/blockscan-logo-lightc1b6.svg?v=0.0.5" alt="" />
                                                    <img width="140" data-img-theme="dim" src="images/svg/blockscan-logo-darkc1b6.svg?v=0.0.5" alt="" />
                                                    <img width="140" data-img-theme="dark" src="images/svg/blockscan-logo-darkc1b6.svg?v=0.0.5" alt="" />
                                                </a>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-sm py-5">
                                        <h6 class="px-3 mb-3">Tools</h6>
                                        <ul class="list-unstyled">
                                             <li>
                                                 <a href="inputdatadecoder.html" id="LI86" class="dropdown-item">
                                                     <i class="far fa-file-binary dropdown-item-icon fa-fw me-1"></i>Input Data Decoder <span class="badge border bg-light text-muted">Beta</span>
                                                 </a>
                                             </li>
                                            <li>
                                                <a href="unitconverter.html" id="LI50" class="dropdown-item">
                                                    <i class="far fa-arrows-rotate dropdown-item-icon fa-fw me-1"></i>Unit Converter
                                                </a>
                                            </li>
                                            <li>
                                                <a href="exportData.html" id="LI51" class="dropdown-item">
                                                    <i class="far fa-download fa-fw me-1"></i>CSV Export
                                                </a>
                                            </li>
                                            <li>
                                                <a href="balancecheck-tool.html" id="LI52" class="dropdown-item">
                                                    <i class="far fa-file-invoice-dollar fa-fw me-1"></i>Account Balance Checker
                                                </a>
                                            </li>
                                        </ul>
                                    </div>

                                    <div class="col-sm py-5">
                                        <h6 class="px-3 mb-3">Explore</h6>
                                        <ul class="list-unstyled">
                                            <li>
                                                <a href="gastracker.html" id="LI19" class="dropdown-item">
                                                    <i class="far fa-gas-pump dropdown-item-icon fa-fw me-1"></i>Gas Tracker
                                                </a>
                                            </li>
                                            <li>
                                                <a href="dex.html" id="LI4" class="dropdown-item">
                                                    <i class="far fa-arrow-right-arrow-left dropdown-item-icon fa-fw me-1"></i>DEX Tracker
                                                </a>
                                            </li>
                                            <li>
                                                <a href="nodetracker.html" id="LI46" class="dropdown-item">
                                                    <i class="far fa-server dropdown-item-icon fa-fw me-1"></i>Node Tracker
                                                </a>
                                            </li>
                                            <li>
                                                <a href="labelcloud.html" id="LI41" class="dropdown-item">
                                                    <i class="far fa-signs-post dropdown-item-icon fa-fw me-1"></i>Label Cloud
                                                </a>
                                            </li>
                                            <li>
                                                <a href="name-lookup.html" id="LI26" class="dropdown-item">
                                                    <i class="far fa-magnifying-glass-chart dropdown-item-icon fa-fw me-1"></i>Domain Name Lookup
                                                </a>
                                            </li>
                                        </ul>
                                    </div>

                                    <div class="col-sm py-5">
                                        <h6 class="px-3 mb-3">Services</h6>
                                        <ul class="list-unstyled">
                                            <li>
                                                <a href="tokenapprovalchecker.html" id="LI49" class="dropdown-item active">
                                                    <i class="far fa-shield-keyhole dropdown-item-icon fa-fw me-1"></i>Token Approvals <span class="badge border bg-light text-muted">Beta</span>
                                                </a>
                                            </li>
                                            <li>
                                                <a href="verifiedSignatures.html" id="LI29" class="dropdown-item">
                                                    <i class="far fa-signature-lock dropdown-item-icon fa-fw me-1"></i>Verified Signature
                                                </a>
                                            </li>
                                             <li>
                                                <a class="dropdown-item" href="idm.html">
                                                    <i class="far fa-message-lines dropdown-item-icon fa-fw me-1"></i>Input Data Messages (IDM) <span class="badge border bg-light text-muted">Beta</span>
                                                </a>
                                            </li>
                                            
                                            <li>
                                                <a href="advanced-filter.html" id="LI31" class="dropdown-item">
                                                    <i class="far fa-filters dropdown-item-icon fa-fw me-1"></i>Advanced Filter <span class="badge border bg-light text-muted">Beta</span>
                                                </a>
                                            </li>
                                            
                                            <li>
                                                <a class="dropdown-item" href="https://chat.blockscan.com/" target="_blank">
                                                    <i class="far fa-messages dropdown-item-icon fa-fw me-1"></i>Blockscan Chat <i class="far fa-arrow-up-right-from-square text-muted ms-1"></i> <span class="badge border bg-light text-muted">Beta</span>
                                                </a>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </li>
                        <!-- End More -->
                        

                        <li class="nav-item dropdown d-block d-lg-none">
                            <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">Explorers</a>
                            <ul class="dropdown-menu dropdown-menu-border" style="min-width: 14rem;">
                                
                                <li>
                                    <a href="index.html" id="LI_Mainnet_1" class="dropdown-item active active">
                                        Ethereum Mainnet
                                    </a>
                                </li>
                                <li>
                                    <a href="https://cn.etherscan.com/?lang=zh-CN" id="LI_Mainnet_CN_1" class="dropdown-item">
                                        Ethereum Mainnet <span class="badge border bg-light text-dark ms-1">CN</span>
                                    </a>
                                </li>
                                <li>
                                    <a href="https://beaconscan.com/" id="LI77" class="dropdown-item">
                                        Beaconscan <span class="badge border bg-light text-dark ms-1">ETH2</span>
                                    </a>
                                </li>
                                <li>
                                    <hr class="dropdown-divider">
                                </li>
                                <li>
                                    <a href="https://goerli.etherscan.io/" id="LI78" class="dropdown-item">
                                        Goerli Testnet
                                    </a>
                                </li>
                                <li>
                                    <a href="https://sepolia.etherscan.io/" id="LI79" class="dropdown-item">
                                        Sepolia Testnet
                                    </a>
                                </li>
                                <li>
                                    <a href="https://holesky.etherscan.io/" id="A4" class="dropdown-item">
                                        Holesky Testnet
                                    </a>
                                </li>
                                
                            </ul>
                        </li>

                        <!-- Appearance & Settings -->
                        <li class="nav-item dropdown d-block d-lg-none">
                            <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">Appearance &amp; Settings</a>
                            <ul class="dropdown-menu dropdown-menu-border" style="min-width: 14rem;">
                                <li>
                                    <button type="button" class="dropdown-item theme-btn active" data-bs-theme-value="light" onclick="setThemeMode('light');">
                                        <i class="far fa-sun-bright fa-fw dropdown-item-icon theme-icon me-1" data-href="#fa-sun-bright"></i> Light
                                    </button>
                                </li>
                                <li>
                                    <button type="button" class="dropdown-item theme-btn" data-bs-theme-value="dim" onclick="setThemeMode('dim');">
                                        <i class="far fa-moon-stars fa-fw dropdown-item-icon theme-icon me-1" data-href="#fa-moon-stars"></i> Dim
                                    </button>
                                </li>
                                <li>
                                    <button type="button" class="dropdown-item theme-btn" data-bs-theme-value="dark" onclick="setThemeMode('dark');">
                                        <i class="far fa-moon-stars fa-fw dropdown-item-icon theme-icon me-1" data-href="#fa-moon"></i> Dark
                                    </button>
                                </li>
                                <li>
                                    <hr class="dropdown-divider">
                                </li>
                                <li>
                                    <a class="dropdown-item" href="settings.html">
                                        <i class="far fa-gear fa-fw dropdown-item-icon me-1"></i> Site Settings <i class="far fa-arrow-right ms-1"></i>
                                    </a>
                                </li>
                            </ul>
                        </li>
                        <!-- End Appearance & Settings -->
                        
                        
                        <li class="nav-item align-self-center d-none d-lg-block">
                            <span class="text-secondary">|</span>
                        </li>
                        
                        <li class="nav-item d-none d-lg-block">
                            <a class="nav-link" href="login.html">
                                <i class="far fa-user-circle me-1"></i> Sign In
                            </a>
                        </li>
                        
                    </ul>
                </div>

            </div>
        </nav>
    </header>
    <!-- ==========  END HEADER ========== -->

    <!-- ========== MAIN CONTENT ========== -->
    <main id="content" class="main-content" role="main">
        <input type="hidden" name="hdnAgeText" id="hdnAgeText" value="Age" />
        <input type="hidden" name="hdnDateTimeText" id="hdnDateTimeText" value="Date Time (UTC)" />
        <input type="hidden" name="hdnAgeTitle" id="hdnAgeTitle" value="Click to show Age Format" />
        <input type="hidden" name="hdnDateTimeTitle" id="hdnDateTimeTitle" value="Click to show Datetime Format" />
        <input type="hidden" name="hdnTxnText" id="hdnTxnText" value="Txn Fee" />
        <input type="hidden" name="hdnGasPriceText" id="hdnGasPriceText" value="Gas Price" />
        <input type="hidden" name="hdnTxnFeeTitle" id="hdnTxnFeeTitle" value="(Gas Price * Gas Used by Txns) in Ether" />
        <input type="hidden" name="hdnGasPriceTitle" id="hdnGasPriceTitle" value="Gas Price in Gwei" />

        
    
    <section class="bg-light py-12" style="background-image: var(--bg-img-wave);">
        <div class="container-xxl">
            <div class="row justify-content-between align-items-center">
                <div class="col-md-9 col-lg-6">
                    <h1 class="fs-lg mb-3">Ethereum Token Approval</h1>
                    <p>Review and revoke your token approvals for any dApp. For more information, check out our Knowledge Base <a target="_blank" href="https://info.etherscan.com/tokenapprovals/" class="link-primary">article</a>.</p>

                    <form method="post" action="https://etherscan.io/tokenapprovalchecker" id="ctl00" class="js-validate col-xl-10">
<div class="aspNetHidden">
<input type="hidden" name="__EVENTTARGET" id="__EVENTTARGET" value="" />
<input type="hidden" name="__EVENTARGUMENT" id="__EVENTARGUMENT" value="" />
<input type="hidden" name="__VIEWSTATE" id="__VIEWSTATE" value="ZGqjMZyLK8ueG13ghJuZbnUKX2jDphaB8sYmbZISqIWwy7S5HBJ8+4FC5xLg+nGjx3Ty3k+AI24ZlYdjqGuGlzB314lm4g3bgQYCN+l2t3ZmieM17XE4aqETrjyjS5bRnjHEj/h+xRaT2sb6QshLMd7SMe8aOFaaEQhMJrRKIGMo94ft1mtxb8nXPi9PXVZSeBxWBnMXtMxIwf3q3YZBnE2dZJ6Hrgfx5ged5tdvkUJIiLSd1Io6t5B8ZB5GxVGStK6Bv4CMnzL+XsfN3xN3NvwFqUUjK8eEuhOpv7TNufKiV0lmTIBZUlfgvoSKflI8QNLlnlu0KgRkIh5hQDPI3rrkTrAZLv4gfITRf0TrAaN7pu9TGXi0/JV+I01b0H4yKK8xSJS6Uw6bjafw0xkTeLHtUNYIR1VY8HDI0iO4ZT3eIWnKrpCboi88/9ekOqjBkHLZvtxbaefATDADFUsYKsOYuOygbh5tRjJlA2Vr/3WCLP0VHppYMyY1xwz3TkJmnr9euLqb4Qb8hibUqbBIzezpftfesHFrFM5jzF2/PKu2AWChXRxYRVt5rjAVdnjAfTdjSsxJ7Qm9HZwiAMiXNghAzS76dPaRlp+K8CQr+Z859HPvgIippfXrxeBB27wnRk/nkiHMwxemIzI/tQr5tDbUVOqIKNKYp1Hw34GFq01Gu01dlcIAgw9iUIxCwR2aHjICMP80cIOYZq4fQvFqL2jHqM13rGosROl27vgRDahm0+XGr95XlMsJ8Lfy9KeOY8fa6M5GJNyy7IDCGSL128EFEqJ0UbbOmGZ7HA+HN+dThX64IK7ysUM3fgEoiLUDVaAFuKBfhliDg2G2HG6yMprXSebphSiliQL5uxKUalI/YCaoslthYl9ABWyv7Xje3DX/Ck4SJYwLBblvyDZ0Sjg1Cpb2DS8btBep7o6GO+uhbTt0iYinr7znyMH/TlD6GMW0mULaHNHCv05ekwaw0nosXME5ZGJkU56HV5ZVe2TrWyS/DUeW11MN3H/uKnkyCi23aF6u4tKK6doqsTlxdhG1P/8D0oEF8oXPqRXFVDXlPXtRJIx3BRz+vF6SsIFFeClN7VtRTNk9p8U87iCjXm3iEkrfVe1+5xQ7rvZkQJ7KhteKToVbBBcmeoXzEG8ee4kRbohs+TjWLfcDluICxtVJRAB1ASBHBgLPcoD7YqaL4WEAZiuQZDzds71Hry/wsbqyKuPImM65kNZBu2TzcioLM3YREsSlzTocu3uh4hD6aY/Exuq/3spUTRf0f8yjHPgleJLQSu77hTkw3ZiEPYlEmn97mhmOx0EcSt4fLtptncFzE/fPGpk/TAiiT8zpg8T0M1znDMZlZljsuh4FG2wxSTuEa0qjtZ7t7qU4Avq+uViigKQf+eGOUF3yHKfEyXZcSyKmKKEM3+vucXBt8PLaX3wuNFO7ds1SCALFrVjB0U7+tDEzhm9vKHP4DA4MJRIkzndZaxYKvJhAFlXlO6AlQGspdjx3dAiYvnC+sESjLXpeQGRb3qDUOfZeladgrxnlYvJwqwhZm0Oj2TuSaWBth8udmM12v3/zD44tGq3+ZyYwhL3dXgT2C/uzSSPR6Vay+sSFa/BcGNdYqpG5loPKzTYadPlT+hmiqW1sYuivk4TUWOYU7wcUXCo/35X+CyR0F/wYvZ7vSxMfs0DoeBSQqky3h1o0c4g7MeerGtBYnQau9qtlARtblaYLm0SM3y7DLVDsEN7ymUpwgXXb2VBl6APkZsiqrVMWNFyg1EzwA/nMY09Cyz4SCuLlCewMfMKdR4dWAWB6aZETivVIoAoboKz0uONmDPzofGxPzg2XCsOhtG3pJcLUKxPKWCeQHvhMYlJb/8J66x/3i4MBVSRN1RiZTXUk+4ICqPu33Y3h7TqqOWoLPAqDj6ojwZJTMOUv1ttnl/yk5ss7hvbBwVScrutSHTain3KGoHzISl4e9leQDd7Wlpx8odiu+SpGekhw6MaGTGxpLQETTtfNwXhFPlpbLg4AXfrox8M/0ZQwcdBcangEmXoedXVxyoRRbXrnnufkqlaarivdnXwEFSG7Drxe9selpBMwGVzOT+qmdlUV2eI9aqAm9NVTTlhXUsHgG09xSpLuDf/lW7wKBkHyefzDNBbn9w+2U3WX80YZZncaEnj0osGTZpRxluJsI1ONzUM2NX2TNhqj8eAA6dt1BqjuTz9Ymyl2gDhwc8o4r0Q7PjRxxn91tV1dAYQwjOJRbHjQ4OGjMC9HwM0bEfn+sqq9qI/O6+R7UWbNce9c/DLHkwEM9MJ5HSDx4uRwFj22gjmVPQJnihn/1c3aGCpPBwBI6z9d2/n6Cz/fHihmrXQWIWg1dsUUZiPTRVdeT8f4f7U+uhb5hquIDZyr1211JvTz4i3flC5BsX2hi+p7Dy6U5Qv0jCZII2eUlOOv+CJCvQTJ1YbvB5HVLgQhPM2ugFM7ceEVg+OQWH8k6BTUu7IHbIlhJ6AvlkdgtnrDIVgxvrhJ9NzlzzGOndHVzokT8lCBUPeX6GjIyKKPC8aYg0A2cTVLFQBmaoIztVc4ud/Xw00HLd5UZY3ckAWjA3fJUWKT1A6xI/XmzsNlkF356YP4BACcLEaDY5up9Gk8y9fKj5aifZFJoVjHw73CgrmnNBdxJvsWb58tprWEXYoCyCCpBYTWymIYioH/72I5rHxOV/Qwk4mBAKqIFoU2UK5KHLIz0vRp5G1dGmCJpOA4g54ctNpn1AqSFXL9hVWEulOMjmBgMzUTW6XWvpFrXng2NGCdyRsJGBwf+fjFXySnptl5pSCqNtNripo7gSdfzqavJV14xaCYSbhtKAuQPkFKXAjxSwyiasVNmfHXEw+hNLRSvLraIstTD5cZiRWyNdoH3C3mo216lWAGwetzEDMqzxwAFeL4kDANHhH5+dkQfryMMepT6gN/mAs6oIYBz7qFaKVmIcaMKeykfDmUGqFWkWIpZtZXj24dyrO1a2fdCVTEq9Tnsy3FD8MavbfY3InqpMWwY9k9nnlwkoutCcMMnYfX1HH1SJX7zOHBfacZMuBWQJhcuck1bL2h+t0N2/ET687eLapqvJS8PSSU7ahZ76jcuEOJhCbT5DzzsSNoBdYVRmVIdeBrFNkpZ0SmkkVZt0EUd7CwRQlDHSDjCnC151rVJPCE3WYNIDO89nuJOaWNt72fB+SlKJdC8CuDoJWDYNlRY15X2sHGO2PJSRNWZyy6mHy98sZqjnwZ1qP8gTFiTtt3aO0P4Dl9EW59FAZKb0bKlC+e1Bt33YkeR9FFCAhyp1OOyyEl8rKoturYLjQ6/8HYQlDyssF7ogAiF2h1sRdBDmqhE9ueADZwqViSA0k5sRqXWOkbXGkNGbfuNmKsoaHIkoAuMDmKOFKnFNEKgGhnvB9w5Pet/khnunEMKKTvaSeD/NAu/wd/t92UvqnY44AfzKLhpFEr1eYdjvGoi5J7pHGRllYQRoJvJUtxcHqnPx4BIYOsgnQuYDfvK5x9pIHFS8LbYq3GxGnSuA/RcBQighD9L+cGsytsRt9FotqzMhseLmVmYzTJpON40efsb3KU0lsgqNr2rd/3XvLIy9/UTW++WeUtnSecr314CRz7IxtbYW9/1R12h11w1Alrl68Kdazd/BdXOHc2iX5vDMjFV+S1xaj4dkT7DUgMXhrmiM8xEO5W7GDzS7SRpZlRKXBUuZUmwEDFEPdxuwaRMrR6hb0guRpGiwvoVrrapbVnL19aAocD0EIY4ITDAVTvCSN4Qq3wCSiYTy9/P1dkb8OrwJoxrniOIwEb2/nRiiqVluiaT/nQNNUWyuhr5lXf6jtYY54Zoo0ig55Utnx2PwtpzPiTVTFZrszUhxutn/Ga89tH1XcLgN52HtAqt94MFB8h+NE/sbG4AOEWLrOleOMxuOvzgFEomVnbfM619Nk2JWF5fGiUL+z3mRxP2OQRxdGhjoGF/okKCrbsITsmM+jrwdfKcehqFMpD/sPH2dTf5RnU9se92j5of570te4u9x3Tf/rxCvEnx2cFoN6jyUQH7WzbzTyOyIUwuy9sIx7evn4BFJrl/ndei7etk3ZEgeO8bTnKPiWRU+CxhyODpYjTWlS7ZB5Hr3fS9+EeNNtHlY47a+Q8Nuw/8iUAlV3DbhNIwe0LkvNiftPpYPIg2m/1wqGJgpVFsR49NgkNOvxzHCug2o2dPoqZRgU6PdwtcJ/538fUlvrZscEbwR72pkS5BCER752NHqEx+4+nWrB4gXYh4a/YEwY0/1lKOp5y1uW/G4v57OkSfyFnNOsHzsC5UEW2pvoimXRR9BRli2k0Ff26muX5ikWkbF242kS2P7QaxhZBxiiO9Hbn6n8ysr0WsyNBHPOG98AT+KWQyPsXiqXVfMQUoB9JXUSweiV9gm/q01gKFvvbAidgRzHNaE1sDbQj7kKM9PNrokRgmfj71vtDlTJq6YTBMHWiaRBZPGd10tGWZTTsz5yFRoFYz8AiRTTjnAP/PuNK2s1aO4PGCGFhKbVy43CbI1iwXLRgCPhGy2TXjFC7/0Vlm4HSPnMiN+nHW4CujEA5XllMRgyvHVxcHNgPZyHLxzzqtTM5Jlmu6V4nhRQg78VsOkN0cAQaw8+OoV5H1L2YmAByeJXei8HjEP08BduSH1WtcInNIUYxrefjtQ1MmC9tfPEBrqUU/3RlpdKW1kg2IL+MShThO5RBPi+ceBWsrofLuQ3tzPf1xbG6d4PMZTEaE36BHMjIzklnQ7Hgntmrww==" />
</div>

<script type="text/javascript">
//<![CDATA[
var theForm = document.forms['ctl00'];
if (!theForm) {
    theForm = document.ctl00;
}
function __doPostBack(eventTarget, eventArgument) {
    if (!theForm.onsubmit || (theForm.onsubmit() != false)) {
        theForm.__EVENTTARGET.value = eventTarget;
        theForm.__EVENTARGUMENT.value = eventArgument;
        theForm.submit();
    }
}
//]]>
</script>


<div class="aspNetHidden">

	<input type="hidden" name="__VIEWSTATEGENERATOR" id="__VIEWSTATEGENERATOR" value="543FCFC8" />
	<input type="hidden" name="__EVENTVALIDATION" id="__EVENTVALIDATION" value="voVByEIo3DYDHvaK+aOSqLi/27qjAHFZz3Km24hUXRTEJufgL4ytvd2m+LY4mxim2lR8efobikkjaKEXC+DmRXs56gT6qfbgS0rj1U1qfHB2RVnr6z6Fmtj8Y+AT1R8/UDIFnau/km7U102gizrG+X8NloKQxidHbilnQJBOJSr7Ka8qCKj4r+6WCwyTzNZC" />
</div>
                        <input type="hidden" name="ctl00$ContentPlaceHolder1$hdnAddress" id="hdnAddress" />
                        <input type="hidden" name="ctl00$ContentPlaceHolder1$hdnFilteredContractName" id="hdnFilteredContractName" />

                        <div class="input-group input-group-lg mb-3">
                            <input name="ctl00$ContentPlaceHolder1$txtSearchAddressOrEns" maxlength="255" id="txtSearchAddressOrEns" class="form-control py-3" type="text" aria-describedby="button-header-search" required="true" data-msg="Search for your address or ENS name" data-error-class="u-has-error" data-success-class="u-has-success" placeholder="Search by Address or Private Key" autocomplete="off" />

                            <button onclick="__doPostBack('ctl00$ContentPlaceHolder1$btnSubmitSearch','')" id="ContentPlaceHolder1_btnSubmitSearch" class="btn btn-primary px-4" type="submit">
                                <i class="far fa-magnifying-glass"></i>
                            </button>
                        </div>
                    </form>
                </div>

                <!-- Banners -->
                
                <div class="col-auto mx-auto">
                    <div class="d-none d-lg-flex justify-content-center mt-n4">
                        <!-- Revive Adserver Anti Adblocker Asynchronous JS Tag - Generated with Revive Adserver v5.5.1 -->
<ins data-t8xt5pt6kr-em9uzwlk="28" data-t8xt5pt6kr-id="033e0828aecd8a15c31181716c4b1552"></ins>
<script async src="http://eas.etherscan.com/d3d3/ZGVsaXZlcnk/YXN5bmNqcw==.php"></script>
                    </div>
                </div>
                
                <!-- End Banners -->
            </div>
        </div>
    </section>
    

    <!-- Banners -->
    
    <section class="container-xxl">
        <div class="d-flex d-lg-none justify-content-center mt-6">
            <!-- Revive Adserver Anti Adblocker Asynchronous JS Tag - Generated with Revive Adserver v5.5.1 -->
<ins data-t8xt5pt6kr-em9uzwlk="28" data-t8xt5pt6kr-id="033e0828aecd8a15c31181716c4b1552"></ins>
<script async src="http://eas.etherscan.com/d3d3/ZGVsaXZlcnk/YXN5bmNqcw==.php"></script>
        </div>
    </section>
    
    <!-- End Banners -->

    
    <section class="container-xxl pt-8 pb-12">
        
        <div class="d-flex flex-wrap justify-content-start align-items-center gap-2 mb-3">
            <button type="button" class="btn btn-white d-inline-flex align-items-center gap-1.5" id="btnConnectWallet">
                <i id="connector" class="fa fa-circle text-danger fs-70x"></i>Connect to Web3
            </button>

            <button type="button" id="btnReset" class="btn btn-secondary" style="display: none;">Reset</button>

            <p id="exposureRisks" class="text-info mb-0">
                
            </p>
        </div>
        

        
        
        

        
        <div id="noSearch" class="card">
            <div class="table-responsive">
                <table class="table table-align-middle mb-0">
                    <thead class="align-middle text-nowrap pointer-events-none">
                        <tr>
                            <th scope="col">Transaction Hash</th>
                            <th scope="col">
                                <a href="#">Last Updated (UTC)</a>
                            </th>
                            <th scope="col">Assets</th>
                            <th scope="col" width="100">Approved Spender</th>
                            <th scope="col">Allowance</th>
                            <th scope="col">&nbsp;</th>
                        </tr>
                    </thead>

                    <tbody class="align-middle text-nowrap">
                        <tr class="border-bottom-0">
                            <td colspan="6">
                                <div class="text-md-center py-24">
                                    <div class="mb-4">
                                        <span class="bg-warning bg-opacity-10 border border-warning border-opacity-25 text-yellow-600 fs-70x content-center rounded-pill mx-md-auto" style="width: 4rem; height: 4rem;">
                                            <i class="fal fa-coins fs-4"></i>
                                        </span>
                                    </div>

                                    <h2 class="h5">Revoke Token Approvals</h2>
                                    <p class="text-muted">Review and revoke your token approvals for any dApp.</p>

                                    <button type="button" class="btn btn-white d-inline-flex align-items-center gap-1.5" onclick="openModal()">
                                        <i class="fa fa-circle text-danger fs-70x"></i>Connect to Web3
                                    </button>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        

        
        <div id="resultContainer" class="card" style="display: none;">
            
            <div class="card-header">
                <!-- Tabs Nav -->
                <ul class="nav nav-pills text-nowrap snap-x-mandatory overflow-x-auto flex-nowrap gap-2" id="myTab" role="tablist">
                    <li class="nav-item snap-align-start" role="presentation">
                        <button id="erc20TabNav" type="button" role="tab" class="nav-link active" tabindex="0" data-bs-toggle="pill" data-bs-target="#erc20TabContent" aria-controls="erc20TabContent" aria-selected="true">
                            ERC-20</button>
                    </li>
                    <li class="nav-item snap-align-start" role="presentation">
                        <button id="erc721TabNav" type="button" role="tab" class="nav-link" tabindex="0" data-bs-toggle="pill" data-bs-target="#erc721TabContent" aria-controls="erc721TabContent" aria-selected="false">
                            ERC-721</button>
                    </li>
                    <li class="nav-item snap-align-start" role="presentation">
                        <button id="erc1155TabNav" type="button" role="tab" class="nav-link" tabindex="0" data-bs-toggle="pill" data-bs-target="#erc1155TabContent" aria-controls="erc1155TabContent" aria-selected="false">
                            ERC-1155</button>
                    </li>
                </ul>
                <!-- End Tabs Nav -->
            </div>
            

            
            <div class="card-body">
                <div class="tab-content" id="tabContent">
                    
                    <div id="erc20TabContent" class="tab-pane fade show active" role="tabpanel" aria-labelledby="erc20TabNav" tabindex="0">
                        <div class="table-responsive">
                            <table id="tblErc20TokenApprovals" class="table table-hover">
                                <thead class="align-middle text-nowrap">
                                    <tr>
                                        <th scope="col">Transaction Hash</th>
                                        <th scope="col">
                                            <a href="javascript:void(0);" class="ageDateColumnHeader" onclick="switchAgeToDateTime(this);" data-bs-toggle="tooltip" data-bs-trigger="hover" data-bs-title="Click to show Age Format">Last Updated (UTC)</a>
                                        </th>
                                        <th data-highlight scope="col">Assets</th>
                                        <th data-highlight scope="col">Approved Spender</th>
                                        <th scope="col">
                                            <i class="far fa-question-circle me-1"
                                                data-bs-toggle="tooltip"
                                                data-bs-trigger="hover"
                                                data-bs-title="The original token amount that the spender is allowed to spend on behalf of the owner."></i>Original Allowance
                                        </th>
                                        <th scope="col"></th>
                                    </tr>
                                </thead>
                                <tbody class="align-middle text-nowrap">
                                    
                                </tbody>
                            </table>
                        </div>
                    </div>

                    
                    <div id="erc721TabContent" class="tab-pane fade" role="tabpanel" aria-labelledby="erc721TabNav" tabindex="0">
                        <div class="table-responsive">
                            <table id="tblErc721TokenApprovals" class="table table-hover" style="display: none;">
                                <thead class="align-middle text-nowrap">
                                    <tr>
                                        <th scope="col">Transaction Hash</th>
                                        <th scope="col">
                                            <a href="javascript:void(0);" class="ageDateColumnHeader" onclick="switchAgeToDateTime(this);" data-bs-toggle="tooltip" data-bs-trigger="hover" data-bs-title="Click to show Age Format">Last Updated (UTC)</a>
                                        </th>
                                        <th scope="col">Assets</th>
                                        <th scope="col">Approved Spender</th>
                                        <th scope="col" class="text-center">Token ID</th>
                                        <th scope="col"></th>
                                    </tr>
                                </thead>
                                <tbody class="align-middle text-nowrap">
                                    
                                </tbody>
                            </table>
                        </div>
                        <div class="table-responsive">
                            <table id="tblErc721TokenApprovalsForAll" class="table table-hover">
                                <thead class="align-middle text-nowrap">
                                    <tr>
                                        <th scope="col">Transaction Hash</th>
                                        <th scope="col">
                                            <a href="javascript:void(0);" class="ageDateColumnHeader" onclick="switchAgeToDateTime(this);" data-bs-toggle="tooltip" data-bs-trigger="hover" data-bs-title="Click to show Age Format">Last Updated (UTC)</a>
                                        </th>
                                        <th data-highlight scope="col">Assets</th>
                                        <th data-highlight scope="col">Approved Spender</th>
                                        <th scope="col"></th>
                                    </tr>
                                </thead>
                                <tbody class="align-middle text-nowrap">
                                    
                                </tbody>
                            </table>
                        </div>
                    </div>

                    
                    <div id="erc1155TabContent" class="tab-pane fade" role="tabpanel" aria-labelledby="erc1155TabNav" tabindex="0">
                        <div class="table-responsive">
                            <table id="tblErc1155TokenApprovalsForAll" class="table table-hover">
                                <thead class="align-middle text-nowrap">
                                    <tr>
                                        <th scope="col">Transaction Hash</th>
                                        <th scope="col">
                                            <a href="javascript:void(0);" class="ageDateColumnHeader" onclick="switchAgeToDateTime(this);" data-bs-toggle="tooltip" data-bs-trigger="hover" data-bs-title="Click to show Age Format">Last Updated (UTC)</a>
                                        </th>
                                        <th data-highlight scope="col">Assets</th>
                                        <th data-highlight scope="col">Approved Spender</th>
                                        <th scope="col"></th>
                                    </tr>
                                </thead>
                                <tbody class="align-middle text-nowrap">
                                    
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
            
        </div>

        <!-- Page Description -->
        <div class="mt-4">
            <p class="fs-sm text-muted">
                <i class="far fa-lightbulb-on text-secondary me-1"></i>
                The Token Approvals page lists contracts that have been approved to spend an address’s tokens. The at risk amount shows what is vulnerable if the contracts were hacked. Learn more about this page in our <a target="_blank" href="https://info.etherscan.com/tokenapprovals/">Knowledge Base</a>.
            </p>
        </div>
        <!-- End Page Description -->
    </section>
    

    
    <div class="modal fade" id="unApproveModal" tabindex="-1" role="dialog">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <div class="modal-title">
                        <h5>Revoke Approval</h5>
                    </div>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="d-grid gap-2">
                        <input type="hidden" id="approvalType" />
                        <input type="hidden" id="tokenId" />
                        <input type="hidden" id="is721" />
                         <div class="form-group">
                             <div class="alert alert-danger mb-0" role="alert" id="errorDiv" style="display: none;"></div>
                         </div>
                        <div class="form-group">
                            <label class="form-label" for="txtToken">Token:</label>
                            <input type="text" class="form-control form-control-lg py-3" id="txtToken" disabled>
                            <span id="errorTxtToken" class="invalid-feedback" style="display: none;">Please enter a valid Ethereum Address</span>
                        </div>

                        <div class="form-group" id="divTokenSymbol" style="display: none;">
                            <label class="form-label" for="txtToken">Token Symbol:</label>
                            <input type="text" class="form-control form-control-lg py-3" id="txtTokenSymbol" disabled>
                        </div>

                        <div class="form-group">
                            <label class="form-label" for="txtSpender">Spender:</label>
                            <input type="text" class="form-control form-control-lg py-3" id="txtSpender" disabled>
                            <span id="errorTxtSpender" class="invalid-feedback" style="display: none;">Please enter a valid Ethereum Address</span>
                        </div>

                        <div class="form-group" id="divOriginalAllowance" style="display: none;">
                            <label class="form-label" for="txtSpender">
                                <i class="far fa-question-circle"
                                    data-bs-toggle="tooltip"
                                    data-bs-trigger="hover"
                                    data-bs-title="The original token amount that the spender is allowed to spend on behalf of the owner."></i>
                                Original Allowance:
                            </label>
                            <input type="text" class="form-control form-control-lg py-3" id="txtOriginalAllowance" disabled>
                        </div>

                        <div class="form-group" id="divCurrentAllowance" style="display: none;">
                            <label class="form-label" for="txtSpender">
                                <i class="far fa-question-circle"
                                    data-bs-toggle="tooltip"
                                    data-bs-trigger="hover"
                                    data-bs-title="The remaining token amount that the spender is allowed to spend on behalf of the owner."></i>
                                Current Allowance:
                            </label>
                            <input type="text" class="form-control form-control-lg py-3" id="txtCurrentAllowance" disabled>
                        </div>

                        <div class="d-flex align-items-center justify-content-center gap-2">
                            <button type="button" class="btn btn-primary w-25 py-3" id="btnUnapprove">Revoke</button>

                            <span id="errorTxtApprove" class="invalid-feedback" style="display: none;">Invalid error, please contact us.</span>
                            <a class="btn btn-primary py-3" id="btnViewTx" style="display: none;" href="#" target="_blank">View your transaction</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    

    <!-- Select wallet modal when page is empty -->
    <div class="modal fade" id="connectWalletModal" tabindex="-1" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Connect a Wallet</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="mb-4">
                        <button type="button" value="metamask" class="btn-custom-wallet btn btn-lg btn-white d-flex justify-content-between align-items-center w-100 p-3 mb-2" data-bs-dismiss="modal">
                            <span class="text-dark d-flex align-items-center">MetaMask
                                <span class="badge border bg-light text-dark ms-2">Popular</span>
                            </span>
                            <img width="25" src="images/svg/brands/metamask.svg" alt="">
                        </button>

                        <button type="button" value="walletconnect_v2" class="btn-custom-wallet btn btn-lg btn-white d-flex justify-content-between align-items-center w-100 p-3 mb-2" data-bs-dismiss="modal">
                            <span class="text-dark">WalletConnect</span>
                            <img width="25" src="images/svg/brands/walletconnect.svg" alt="">
                        </button>

                        

                        <button type="button" value="walletlink" class="btn-custom-wallet btn btn-lg btn-white d-flex justify-content-between align-items-center w-100 p-3 mb-2" data-bs-dismiss="modal">
                            <span class="text-dark">Coinbase Wallet</span>
                            <img width="25" src="images/svg/brands/coinbase.svg" alt="">
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>


    </main>

    <div id="push" style="display: none;"></div>
    <div class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" id="emailSubscribeModalBox" aria-hidden="true">
        <div class="modal-dialog modal-sm" role="document">
            <div class="modal-content">
                <div class="modal-body">
                    <button type="button" class="close close-md" data-bs-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                    <div class="text-center py-5-alt px-4">
                        <div id="emailSubscribeModalBoxText"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    
    

    
    
    <div class="modal fade" id="copyAddressConfirmModal" tabindex="-1" role="dialog">
        <div class="modal-dialog modal-md">
            <div class="modal-content">
                <div class="modal-header border-0">
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body pt-0">
                    <div class="mb-5">
                        <div class="text-center">
                            <div class="mb-2">
                                <i class="fas fa-exclamation-triangle text-warning fs-2"></i>
                            </div>

                            <h6 class="modal-title fs-5 mb-0">Before You Copy</h6>
                        </div>

                        <div class="mb-3 text-center">
                            <p class="text-muted small" id="addressToCopy"></p>
                        </div>

                        <p id="copyAddressConfirmMessage"></p>

                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" value="" id="popupDontShowAgain">
                            <label class="form-check-label" for="popupDontShowAgain">Don't show this for 30 days</label>
                        </div>
                    </div>
                    <div class="text-center">
                        <button type="button" id="btnConfirmCopyAddress" data-clipboard-target="#addressToCopy" class="btn btn-lg btn-secondary" data-bs-dismiss="modal">
                            Understand, Copy Address
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    

    <!-- Modal: Add Transaction Private Note -->
     <div class="modal fade" id="tnxPrivateNoteModal" tabindex="-1" role="dialog">
         <div class="modal-dialog">
             <div class="modal-content">
             <div class="modal-header">
                 <h1 class="modal-title" id="tnxPrivateNoteModalLabel">Transaction Private Note</h1>
                 <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
             </div>

             <div class="modal-body">
                 <form>
                 <div class="mb-4">
                     <label class="form-label" for="saveTxnNoteHash">Transaction Hash</label>
                     <input type="text" class="form-control py-2" id="saveTxnNoteHash" disabled>
                 </div>

                 <div class="mb-4">
                     <label class="form-label" for="editTxnNote">Private Note Description</label>

                     <textarea class="form-control py-2" id="editTxnNote" rows="5" name="text" placeholder="Short description.." maxlength="100"></textarea>
                     <div class="small text-muted mt-1 ms-1"><span id="txtPrivateNoteTip"></span></div>

                     <div class="form-text mt-2">
                     <p>Please <strong class="fw-medium">DO NOT</strong> store any passwords or private keys here. A private note (up to 100 characters) can be saved and is useful for transaction tracking.
                     </div>
                 </div>

                 <div class="d-flex flex-wrap gap-4">
                     <a target="_blank" href="login3eba.html" rel="noopener noreferrer">
                     View All Transactions Private Notes <i class="far fa-arrow-up-right text-secondary ms-1"></i>
                     </a>
                 </div>

                 </form>
             </div>

             <div class="modal-footer">
                 <button type="button" class="btn btn-ghost-white" data-bs-dismiss="modal">Cancel</button>
                 <button type="button" class="btn btn-primary" onclick="quickSubmitTxPrivateNote();">Save changes</button>
                 <span id="modalElement" name="modalElement" style="display: none;"></span>
             </div>
             </div>
         </div>
     </div>
     <!-- End Modal: Add Transaction Private Note -->

    <footer id="masterFooter" class="bg-light mt-auto d-print-none">
        
        <div class="container-xxl">
            <div class="d-flex justify-content-between align-items-baseline py-6">
                <!-- Social Links -->
                <div class="d-flex gap-2">
                    <a class="btn btn-sm btn-secondary content-center rounded-circle" style="width: 2rem; height: 2rem;" href="https://twitter.com/etherscan" rel="nofollow noopener" target="_blank" data-bs-toggle="tooltip" data-bs-trigger="hover" data-bs-placement="top" title="X (Twitter)">
                        <i class="fab fa-x-twitter"></i>
                    </a>
                    <a class="btn btn-sm btn-secondary content-center rounded-circle" style="width: 2rem; height: 2rem;" href="https://medium.com/etherscan-blog" rel="nofollow noopener" target="_blank" data-bs-toggle="tooltip" data-bs-trigger="hover" data-bs-placement="top" title="Medium">
                        <i class="fab fa-medium"></i>
                    </a>
                    <a class="btn btn-sm btn-secondary content-center rounded-circle" style="width: 2rem; height: 2rem;" href="https://www.facebook.com/etherscan/" rel="nofollow noopener" target="_blank" data-bs-toggle="tooltip" data-bs-trigger="hover" data-bs-placement="top" title="Facebook">
                        <i class="fab fa-facebook"></i>
                    </a>
                    <a class="btn btn-sm btn-secondary content-center rounded-circle" style="width: 2rem; height: 2rem;" href="https://www.reddit.com/r/etherscan/" rel="nofollow noopener" target="_blank" data-bs-toggle="tooltip" data-bs-trigger="hover" data-bs-placement="top" title="Reddit">
                        <i class="fab fa-reddit-alien"></i>
                    </a>
                </div>
                <!-- End Social Links -->
             
                <a class="link-dark" href="#">
                    <i class="far fa-arrow-up-to-line me-1"></i>Back to Top
                </a>
            </div>

            <hr class="my-0">

            <!-- Footer Content -->
            <div class="row justify-content-md-between py-8 py-lg-10">
                <div class="col-lg-4 pe-xl-16 mb-4 mb-lg-0">
                    <div class="d-flex align-items-center mb-3">
                        <img class="me-2" width="20" data-img-theme="light" src="images/svg/brands/ethereum-original.svg" alt="Ethereum Logo">
                        <img class="me-2" width="20" data-img-theme="darkmode" src="images/svg/brands/ethereum-original-light.svg" alt="Ethereum Logo">
                        <span class="fs-5">Powered by Ethereum</span>
                    </div>

                    <p class="fs-sm">Etherscan is a Block Explorer and Analytics Platform for Ethereum, a decentralized smart contracts platform.</p>
                    <div class="d-none d-lg-block mt-n4 mb-n6">
                        <img class="opacity-50" width="280" data-img-theme="light" src="images/map.png" alt="Background Map Image">
                        <img class="opacity-50" width="280" data-img-theme="darkmode" src="images/map-light.png" alt="Background Map Image">
                    </div>
                </div>

                <div class="col-6 col-md-4 col-lg mb-10 mb-md-0">
                    <h4 class="h6 mb-3">Company</h4>
                    <!-- List Group -->
                    <ul class="list-unstyled list-sm-space fs-sm mb-0">
                        <li><a class="link-dark" href="aboutus.html">About Us</a></li>
                        <li><a class="link-dark" href="brandassets.html">Brand Assets</a></li>
                        <li><a class="link-dark" href="contactus.html">Contact Us</a></li>
                        <li>
                            <a class="link-dark" href="careers.html">
                                <span class="me-1">Careers</span> <span class="bg-primary text-white small fw-medium text-nowrap rounded-pill p-1 px-2">We're Hiring!</span>
                            </a>
                        </li>
                        <li><a class="link-dark" href="terms.html">Terms</a> & <a class="link-dark" href="privacyPolicy.html">Privacy</a></li>
                        <li><a class="link-dark" href="bugbounty.html">Bug Bounty</a></li>
                    </ul>
                    <!-- End List Group -->
                </div>

                <div class="col-6 col-md-4 col-lg mb-10 mb-md-0">
                    <h4 class="h6 mb-3">Community</h4>
                    <!-- List Group -->
                    <ul class="list-unstyled list-sm-space fs-sm mb-0">
                        <li><a class="link-dark" href="https://docs.etherscan.io/etherscan-v2" target="_blank">API Documentation</a></li>
                        <li><a class="link-dark" href="https://info.etherscan.com/">Knowledge Base</a></li>
                        <li><a class="link-dark" href="https://etherscan.freshstatus.io/" rel="nofollow noopener" target="_blank">Network Status</a></li>
                        <li><a class="link-dark" href="https://info.etherscan.com/newsletters/">Newsletters</a></li>
                        
                    </ul>
                    <!-- End List Group -->
                </div>

                <div class="col-6 col-md-4 col-lg">
                    <h4 class="h6 mb-3">Products &amp; Services</h4>
                    <!-- List Group -->
                    <ul class="list-unstyled list-sm-space fs-sm mb-0">
                        <li><a class="link-dark" href="contactusadvertise.html">Advertise</a></li>
                        <li><a class="link-dark" href="eaas.html">Explorer as a Service (EaaS)</a></li>
                        <li><a class="link-dark" href="apis.html">API Plans</a></li>
                        <li><a class="link-dark" href="priority-support.html">Priority Support</a></li>
                        <li><a class="link-dark" href="https://blockscan.com/" target="_blank">Blockscan <i class="far fa-arrow-up-right-from-square text-muted ms-1"></i></a></li>
                        <li><a class="link-dark" href="https://chat.blockscan.com/start" target="_blank">Blockscan Chat <i class="far fa-arrow-up-right-from-square text-muted ms-1"></i></a></li>
                    </ul>
                    <!-- End List Group -->
                </div>
            </div>
            <!-- End Footer Content -->

            <!-- Copyright Content -->
            <div class="border-top py-4">
                <div class="row justify-content-between align-items-center fs-sm">
                    <div class="col-md mb-2 mb-md-0">
                        <p class="mb-0">Etherscan © 2024  (F1)</p>
                    </div>

                    <div class="col-md text-md-end">
                        <p class="mb-0">
                            Donations: <a class='me-1' href='address/0x71c7656ec7ab88b098defb751b7401b5f6d8976f.html'><span id='spanDonateAddress' runat='server'>0x71c765...d8976f</span></a> <i class='fas fa-heart text-danger'></i>
                        </p>
                    </div>
                </div>
            </div>
            <!-- End Copyright Content -->
        </div>

        </footer>
    <!-- ========== END FOOTER ========== -->

    <!-- Cookie Alert -->
    <div id="masterDivCookie">
        <div class="fixed-bottom text-center" id="divcookie" style="display: none;">
            <div class="alert alert-light fade show border shadow-sm d-inline-flex flex-wrap flex-sm-nowrap align-items-sm-center text-start gap-3 mx-3" role="alert">
                <p class="text-dark mb-0">
                    <i class="far fa-cookie-bite text-muted"></i> This website <a href="terms.html#cookiestatement" target="_blank">uses cookies to improve your experience</a>. By continuing to use this website, you agree to its <a href="terms.html" target="_blank">Terms</a> and <a href="privacyPolicy.html" target="_blank">Privacy Policy</a>.
                </p>
                <button id ='btnCookie' type="button" class="btn btn-primary text-nowrap px-4" data-bs-dismiss="alert" aria-label="Close">Got it!</button>
            </div>
        </div>
    </div>
    <!-- End Cookie Alert -->

    <script src="assets/vendor/jquery-ui/jquery-ui.minf97b.js?v=24.11.3.1"></script>
    <script src="assets/vendor/jquery-migrate/dist/jquery-migrate.minf97b.js?v=24.11.3.1"></script>
    <script src="assets/vendor/bootstrap/bootstrap.bundle.minf97b.js?v=24.11.3.1"></script>

    <!-- JS Implementing Plugins -->
    <script src="assets/vendor/cubeportfolio/js/jquery.cubeportfolio.minf97b.js?v=24.11.3.1"></script>
    <script src="assets/vendor/clipboard/dist/clipboard.minf97b.js?v=24.11.3.1"></script>

    <!-- JS Front -->
    <script src="assets/js/hs.coref97b.js?v=24.11.3.1"></script>
    <script src="assets/js/components/hs.cubeportfoliof97b.js?v=24.11.3.1"></script>
    <script src="assets/js/custom/combine-js-bottom2f97b.js?v=24.11.3.1"></script>
    <script src="assets/vendor/autocomplete/dist/js/autocomplete.minf97b.js?v=24.11.3.1"></script>
    <script src="assets/js/custom/ether-searchf97b.js?v=24.11.3.1"></script>
    <!-- JS -->
    <script src="assets/js/app.minf97b.js?v=24.11.3.1"></script>
    <!-- JS Init. -->
    <script>

        (function () {
            // INITIALIZATION OF CLIPBOARD
            HSCore.components.HSClipboard.init('.js-clipboard');

            let searchAttributes = {
                'name': 'title',
                'img': 'img',
                'rate': 'rate',
                'address': 'address',
                'link': 'link',
                'group': 'group',
                'groupid': 'groupid',
                'website': 'website',
                'is_verified': 'is_checked',
                'ps': 'ps',
                'desc': 'desc',
                'reputation' : 'reputation'
            }

            etherSearchInit({
                id: 'search-panel',
                attributes: searchAttributes
            });


        })();
       
    </script>
    <!-- JS Plugins Init. -->
    <script>
        $(window).on('load', function () {
            myfn_subscribeNewsletter.startFn("#btnSubscribeNewsletter", "#signupSrEmail")
        });

        $(document).on('ready', function () {

            // Get offset timezone of enduser and set to cookie
            const date = new Date();
            const offsetMinutes = date.getTimezoneOffset();
            const offsetHours = Math.abs(offsetMinutes / 60);
            const sign = offsetMinutes > 0 ? '-' : '+';
            offsetHoursFinal = sign + offsetHours;
            writeCookie("etherscan_offset_datetime", offsetHoursFinal, 365);

            // initialization of cubeportfolio
            $.HSCore.components.HSCubeportfolio.init('.cbp');

            const clipboard = new ClipboardJS('.js-clipboard');
            clipboard.on('success', function (e) {
                let toolTip = bootstrap.Tooltip.getInstance(e.trigger);
                var oriTooltip = toolTip._config.originalTitle
               
                toolTip._config.title = 'Copied!';
                toolTip.setContent();
                toolTip.update();

                setTimeout(function () {
                    toolTip._config.title = oriTooltip;
                }, 1000);
            });
        });

    </script>
    
    <script type="text/javascript">
        var sid = '96157afaa62103254fb776ae3f690c87';
        var strGlobal = getCookie("etherscan_switch_age_datetime");
        var strGlobalFee = sessionStorage.getItem("ShowFee");
        var strGlobalSlotEpoch = sessionStorage.getItem("ShowSlotEpoch");
        var cookieconsent = getCookie("etherscan_cookieconsent");
        var ignoreCopyConfirmation = getCopyAddressConfirmationSetting();
        
        if (cookieconsent !== "True" && document.getElementById("divcookie")) {
            document.getElementById("divcookie").style.display = "block";
        };
          

        function getCookie(cname) {
            var name = cname + "=";
            var ca = document.cookie.split(';');
            for (var i = 0; i < ca.length; i++) {
                var c = ca[i];
                while (c.charAt(0) === ' ') {
                    c = c.substring(1);
                }
                if (c.indexOf(name) === 0) {
                    return c.substring(name.length, c.length);
                }
            }
            return "";
        }

        $("#btnCookie").click(function () {
            $("#divcookie").fadeOut("slow", function () {
                var d = new Date();
                d.setTime(d.getTime() + (1095 * 24 * 60 * 60 * 1000));
                var expires = "expires=" + d.toUTCString();
                document.cookie = "etherscan_cookieconsent=True" + ";" + expires + ";path=/";;
            });
        });

        function handleSearchText(data) {
            searchAddress = false;
            if ($("search-panel").val() == "") {
                $("#hdnSearchText").val("");
                $("#hdnSearchLabel").val("");
            }
        }

        function writeCookie(key, value, days) {
            var date = new Date();
            days = days || 365;
            date.setTime(+ date + (days * 86400000));
            window.document.cookie = key + "=" + value + "; expires=" + date.toGMTString() + "; path=/";
            return value;
        }

        function setThemeMode(mode) {
            writeCookie('displaymode', mode);
        }

        // Note: this function will be called from where need to init the "Copy Address Confirm Modal".
        function openCopyAddressConfirmModal(address, message) {
            $("#addressToCopy").text(address);
            $("#copyAddressConfirmMessage").text(message);

            const clipboard = new ClipboardJS("#btnConfirmCopyAddress");
            document.getElementById('copyAddressConfirmModal').addEventListener('hidden.bs.modal', event => {
                clipboard.destroy();
            });

            const copyAddressConfirmModal = new bootstrap.Modal('#copyAddressConfirmModal', {
                backdrop: true
            })
            copyAddressConfirmModal.show();
        }

        function saveCopyAddressConfirmationSetting(ignoreCopyConfirmation) {
            const copyAddressConfirmationSetting = {
                ignoreCopyConfirmation: ignoreCopyConfirmation,
                expiresOn: Date.now() + 1000 * 60 * 60 * 24 * 30
            };
            localStorage.setItem("copyAddressConfirmationSetting", JSON.stringify(copyAddressConfirmationSetting));
        }

        function getCopyAddressConfirmationSetting() {
            try {
                const settings = localStorage.getItem("copyAddressConfirmationSetting");
                if (settings) {
                    const copyAddressConfirmationSetting = JSON.parse(settings);

                    return copyAddressConfirmationSetting.ignoreCopyConfirmation && copyAddressConfirmationSetting.expiresOn > Date.now();
                }
                else {
                    return false;
                }
            } catch (e) {
                return false;
            }
        }

    </script>
    

    <script src="assets/js/custom/web3.minf97b.js?v=24.11.3.1"></script> 
    <script type="text/javascript">
        var web3ojb;
        var isTestnet = 'false';
        var chain = 'Mainnet'

        async function addNetwork(type) {
            if (isTestnet != 'true') return;
            if (chain != 'Holesky') return;

            if (type === 'web3') {
                if (typeof ethereum !== 'undefined') {
                    web3ojb = new Web3(ethereum);
                } else if (typeof web3 !== 'undefined') {
                    web3ojb = new Web3(web3.givenProvider);
                } else {
                    web3ojb = new Web3(ethereum);
                }
            }

            if (typeof web3ojb !== 'undefined') {
                var network = 0;
                network = await web3ojb.eth.net.getId();
                netID = network.toString();
                var params;
                if (isTestnet == 'true') {
                    if (chain == "Holesky") {
                        if (netID == "17000") {
                            alert("Holesky Test Network has already been added to Metamask.");
                            return;
                        } else {
                            params = [{
                                chainId: '0x4268',
                                chainName: 'Holesky Test Network',
                                nativeCurrency: {
                                    name: 'ETH',
                                    symbol: 'ETH',
                                    decimals: 18
                                },
                                rpcUrls: ['https://rpc.holesky.ethpandaops.io/'],
                                blockExplorerUrls: ['https://holesky.etherscan.io/']
                            }]

                            if (window.ethereum.providers?.length) {
                                let indexProvider = parent.ethereum.providers.findIndex((provider) => provider.isMetaMask);

                                window.ethereum.providers[indexProvider].request({ method: 'wallet_addEthereumChain', params })
                                    .then(() => console.log('Success'))
                                    .catch((error) => console.log("Error", error.message));
                            } else {
                                if (window.ethereum.isMetaMask) {
                                    window.ethereum.request({ method: 'wallet_addEthereumChain', params })
                                        .then(() => console.log('Success'))
                                        .catch((error) => console.log("Error", error.message));
                                } else {
                                    alert("Please Install Metamask")
                                }
                            }

                        }
                    }
                } else {
                    alert('Unable to locate a compatible web3 browser!');
                }
            }
        }
    </script>

    
    <script type="text/javascript" src="assets/vendor/web3modal-1.9.8.min.js"></script>
    <script type="text/javascript" src="assets/vendor/walletlink_bundle.js"></script>
    <script type="text/javascript" src="assets/vendor/datatables/datatables.minf97b.js?v=24.11.3.1"></script>

    <script type="text/javascript" src="assets/js/custom/datatables/plugins/custompaginationf97b.js?v=24.11.3.1"></script>
    <script type="text/javascript" src="assets/js/custom/web3.minf97b.js?v=24.11.3.1"></script>
    <!-- Wallet Connect V2 2.10.5 -->
    <script src="assets/js/custom/walletconnect_v2f97b.js?v=24.11.3.1"></script>
    <script type="text/javascript" src="assets/js/custom/text-highlighterf97b.js?v=24.11.3.1"></script>
     <script src="assets/js/custom/wallet-handling-connectf97b.js?v=24.11.3.1"></script>

    <script>

        var walletConnectObj_v2;
        var web3obj;
        var strRpcUrl = "";

        const net = `mainnet`;
        let acceptedChainId = "0x1";
        var strNetId = "1";

        var mainnetName = "Etherscan";
        var strExplorerUrl = "index.html";
        var strFavIcon = "images/favicon3.ico";
        var strSymbol = "ETH"


        let connectedWalletType = '';
        const walletTypes = {
            metamask: "metamask",
            walletconnect: "walletconnect",
            walletlink: "walletlink",
        }
        let walletDetails = {};

        let dateAgeState = 'date';
        const defaultPageLength = 25;
        const initDropBoxHtml = ''

        // ERC20 variables:
        let filterDropDown = '';
        let noneZeroTokenBalanceToggled = false;
        let isErc20Initialized = false;
        const erc20TableId = "tblErc20TokenApprovals";
        const erc20TableIdSelector = `#${erc20TableId}`
        const erc20DropdownId = '';
        const litShowAll = '';
        let showAllERC20Approvals = litShowAll == 'True';
        const erc20TokenAllowances = new Map();

        // ERC721 variables:
        let filterDropDownErc721 = '';
        let isErc721ApprovedInitialized = false;
        const erc721TableId = "tblErc721TokenApprovals";
        const erc721DropdownId = '';

        // ERC721ForAll variables:
        let filterDropDownErc721ForAll = '';
        let isErc721ForAllInitialized = false;
        const erc721ForAllTableId = "tblErc721TokenApprovalsForAll";
        const erc721ForAllDropdownId = '';
        const approvalTypes = {
            approve: "approve",
            approveForAll: "approveForAll",
        };

        const approvedTxt = 'approved';
        const approvedForAllTxt = 'approvedForAll'
        let erc721TableState = 'approvedForAll';

        // ERC1155 variables:
        let erc1155DropdownFilter = '';
        let isERC1155TableInitialized = false;
        const erc1155TableId = "tblErc1155TokenApprovalsForAll";
        const erc1155DropdownId = '';

        // Datatable config
        const dataTableConfig = {
            language: {
                emptyTable: "No Token Approvals found for the address.",
                info: `A total of <span class="fw-medium">_MAX_</span> Token Approvals found`,
                infoEmpty: `A total of <span class="fw-medium">0</span> Token Approvals found`,
                lengthMenu: "Show rows: _MENU_",
                processing: `<!-- Spinner --><div id="overlay" class="text-center py-10 "><div class="spinner-border text-primary" role="status"><span class="visually-hidden">Loading...</span></div><div class="small text-muted mt-1">Loading</div></div><!-- End Spinner -->`
            },
            oLanguage: {
                oPaginate: {
                    next: `<i class="fas fa-chevron-right small"></i>`,
                    previous: `<i class="fas fa-chevron-left small"></i>`
                }
            },
            autoWidth: false,
            serverSide: true,
            processing: true,
            searching: false,
            ordering: false,
            paging: true,
            pagingType: "custompagination",
            lengthMenu: [10, 25],
            pageLength: defaultPageLength
        };
        const drawCallback = (settings) => {
            updateTableComponents();
            enableDisableUnapproveBtn();
            initTooltip();

            // INITIALIZATION OF HIGHLIGHT
            TextHighlight.init('1');
        };


        // ====================================================== Document ready
        $(document).ready(function () {

            //check display UTC or Local datetime
            convertUtcToLocalDateTime();
            if (offsetHoursFinal !== undefined) {
                $(".ageDateColumnHeader").text("Last Updated (Local)");
            }

            setAcceptedChainId();

            $('#btnConnectWallet').on('click', function () {
                openModal();
            });

            ListenProviderList();
            $('.btn-custom-wallet').on('click', async (el) => {
                $('#connectWalletModal').modal('hide');
                var walletType = el.currentTarget.value;
                switch (walletType) {
                    case 'metamask':
                        await initMetamask();
                        break;
                    case 'walletconnect_v2':
                        await initWalletConnect_v2(walletType);
                        break;
                    case 'walletconnect':
                    case 'walletlink':
                        await initWalletConnect(walletType);
                        break;
                }
            });

            $('#erc20TabNav').on('click', function () {
                initErc20DataTable();
                replaceUrl(0, erc20DropdownId);
            });

            $('#erc721TabNav').on('click', function () {
                if (isErc721ForAllInitialized == false && erc721TableState === approvedForAllTxt) {
                    initErc721TokenApprovalForAllTable();
                }

                let type = 2;
                let dropdownId = erc721ForAllDropdownId;

                if ($("#" + erc721ForAllTableId + "_wrapper").css("display") !== "none") {
                    type = 2;
                    dropdownId = erc721ForAllDropdownId;
                }
                else if ($("#" + erc721TableId + "_wrapper").css("display") !== "none") {
                    type = 1;
                    dropdownId = erc721DropdownId;
                }

                replaceUrl(type, dropdownId);
            });

            $('#erc1155TabNav').on('click', function () {
                initErc1155TokenApprovalTable();

                replaceUrl(3, erc1155DropdownId);
            });

            $('#darkModaBtn').on('click', function () {
                //if ($('body').hasClass('dark-mode')) {
                //    $('#wave-bg').attr('style', 'background-image: url(../images/svg/components/abstract-shapes-20.svg?v=0.2.0);');
                //} else {
                //    $('#wave-bg').attr('style', 'background-image: url(../images/svg/components/abstract-shapes-20-light-1.svg?v=0.2.0);');
                //}
            });

            $('#unApproveModal').on('show.bs.modal', async function (event) {
                const erc20TokenAddr = $(event.relatedTarget).attr("erc20Addr");
                const spenderAddr = $(event.relatedTarget).attr("spenderAddr");
                const approvalType = $(event.relatedTarget).attr("approvalType");
                const is721 = $(event.relatedTarget).attr("is721");
                const tokenId = $(event.relatedTarget).attr("tokenId");

                if ($(event.relatedTarget).attr("tokenApprovalErcType") === "Erc20Approval") {
                    const ownerAddress = $("#hdnAddress").val();
                    const tokenSymbol = $(event.relatedTarget).attr("tokenSymbol");
                    const tokenDecimal = $(event.relatedTarget).attr("tokenDecimal");
                    const originalAllowance = $(event.relatedTarget).attr("originalAllowance");
                    // get current approval allowance
                    const currentAllowance = await getCurrentAllowance(erc20TokenAddr, tokenDecimal, ownerAddress, spenderAddr);

                    $('#divTokenSymbol').show();
                    $('#divOriginalAllowance').show();
                    $('#divCurrentAllowance').show();
                    $('#txtTokenSymbol').val(tokenSymbol);
                    $('#txtOriginalAllowance').val(originalAllowance);
                    $('#txtCurrentAllowance').val(currentAllowance);
                } else {
                    $('#divTokenSymbol').hide();
                    $('#divOriginalAllowance').hide();
                    $('#divCurrentAllowance').hide();
                    $('#txtTokenSymbol').val('');
                    $('#txtOriginalAllowance').val('');
                    $('#txtCurrentAllowance').val('');
                }

                $('#txtSpender').val(spenderAddr);
                $('#txtToken').val(erc20TokenAddr);
                $('#approvalType').val(approvalType);
                $('#is721').val(is721);
                $('#tokenId').val(tokenId);

                $('#errorTxtSpender').hide();
                $('#errorTxtToken').hide();
                $('#errorTxtApprove').hide();
                $('#btnUnapprove').show();
                $("#btnViewTx").hide();
                $("#errorDiv").hide();
            });

            $('#btnUnapprove').on('click', function ($event) {
                $('#errorDiv').html("");
                $('#errorDiv').hide();
                let hasError = false;
                const spender = $('#txtSpender').val().trim();
                if (!spender || !spender.startsWith('0x') || spender.length != 42) {
                    $('#errorTxtSpender').show();
                    hasError = true;
                }

                const token = $('#txtToken').val().trim();
                if (!token || !token.startsWith('0x') || token.length != 42) {
                    $('#errorTxtToken').show();
                    hasError = true;
                }

                const approvalType = $("#approvalType").val();
                if (!approvalType || approvalType.length === 0) {
                    approvalType = approvalTypes.approve;
                }

                const is721 = $("#is721").val();
                const tokenId = $("#tokenId").val();
                if (is721 == '1' && approvalType == approvalType.aprrove && (!tokenId)) {
                    $('#errorTxtApprove').show();
                    hasError = true;
                }

                if (hasError) {
                    return;
                }

                const successCallBack = (result) => {
                    if (result) {
                        $('#btnViewTx').attr("href", "/tx/" + result);
                        $('#btnViewTx').show();
                        $('#btnUnapprove').hide();
                    }
                }

                const errorCallBack = (error) => {
                    $('#errorDiv').html(error.message);
                    $('#errorDiv').show();
                }

                submitUnapproveContract(token, spender, walletDetails.account, approvalType, successCallBack, errorCallBack, is721, tokenId);
            });

            

            initTooltip();
        })


        // ====================================================== Metamask functions:

        async function initMetamask() {
            var objProvider = await initweb3walletProvider("MetaMask");
            walletDetails = await getDetailsFromMetamaskWithProvider(objProvider.provider);

            if (!walletDetails) {
                alert("Please connect to your Metamask");
            }
            else if (walletDetails.chainId != acceptedChainId) {
                // promt users to switch to mainnet if currently not.
                switchEtheriumChainWithProvider(objProvider.provider, acceptedChainId).then(() => {
                    if (objProvider.provider !== 'undefined' && objProvider.iseip6963) {
                        onConnectedMetamask(objProvider.provider);
                    }
                    else if (typeof parent.ethereum !== 'undefined') {
                        parent.ethereum.enable().then(function () {
                            onConnectedMetamask(window.ethereum);
                        });
                    } else if (typeof ethereum !== 'undefined') {
                        ethereum.enable().then(function () {
                            onConnectedMetamask(window.ethereum);
                        });
                    }
                    //parent.closeModal();
                }).catch((ex) => {
                    if (ex && ex.code === 4902) {  // 4902: mean this chain still not add to MM
                        strRpcUrl = getChainRPC(strNetId);
                        addEtheriumChain(acceptedChainId, mainnetName, strSymbol, strRpcUrl, strExplorerUrl).then(() => onConnectedMetamask(window.ethereum));
                    }
                });
            }
            else {
                onConnectedMetamask(objProvider.provider);
            }
        }

        function onConnectedMetamask(provider) {
            window.web3 = new Web3(provider);
            connectedWalletType = walletTypes.metamask;
            onConnectedAction();
            registerMetamaskEvents(provider);
        }

        function registerMetamaskEvents(provider) {
            provider.on('accountsChanged', async (accounts) => {
                walletDetails.account = accounts[0];
                onConnectedAction();
            });

            provider.on('chainChanged', function (chainId) {
                if (chainId != acceptedChainId) {
                    alert("Please connect to " + net + " network");
                    window.location.reload();
                }
            });
        }


        // ====================================================== WalletConnect / Coinbase wallet functions:
        async function initWalletConnect_v2(walletType) {
            var app_meta = {
                name: "Etherscan",
                description: "Etherscan WalletConnect",
                url: "https://etherscan.io/",
                icons: ["https://etherscan.io/favicon.ico"],
            };

            // is there a way for us to catch the qrmodal rejection and flush the object? TODO
            try {
                var wcChainId = parseInt(strNetId);
                strRpcUrl = getChainRPC(strNetId)
                walletConnectObj_v2 = await initConnectWallet(wcChainId, strNetId, strRpcUrl, app_meta);
                web3obj = await connectConnectWallet(walletConnectObj_v2);

                window.web3 = web3obj;

                const accounts = await window.web3.eth.getAccounts();
                if (accounts.length == 0) {
                    throw new Exception("Something is wrong")
                }

                const chainId = await window.web3.eth.getChainId();
                if (chainId != acceptedChainId) {
                    await exitProvider();
                    alert("Please connect to " + net + " network");
                    return;
                }

                //disable button here as the user has already connected
                walletDetails = { account: accounts[0] };

                await connectedWalletConnect(walletType);
            } catch (err) {
                alert('Failed to establish a connection to ' + walletType + '.');
                await exitProvider();
                return;
            }
        }


        async function initWalletConnect(walletType) {
            try {
                var wcChainId = parseInt(strNetId);
                web3Modal = await initwalletLink(wcChainId, mainnetName, strExplorerUrl, strFavIcon);
                web3obj = await connectWalletLink(walletType.toLowerCase(), web3Modal);
                window.web3 = web3obj;

                const accounts = await window.web3.eth.getAccounts();
                if (accounts.length == 0) {
                    throw new Exception("Something is wrong")
                }

                const chainId = await window.web3.eth.getChainId();
                if (chainId != acceptedChainId) {
                    await exitProvider();
                    alert("Please connect to " + net + " network");
                    return;
                }

                //disable button here as the user has already connected
                walletDetails = { account: accounts[0] };

                await connectedWalletConnect(walletType);
            } catch (err) {
                alert('Failed to establish a connection to ' + walletType + '.');
                await exitProvider();
                return;
            }
        }

        function connectedWalletConnect(walletType) {
            return new Promise(resolve => {
                connectedWalletType = walletTypes.walletconnect;
                onConnectedAction();
                if (walletType == 'walletConnect') {
                    registerWalletConnectEvents(details);
                }
                resolve(true);
            })
        }

        function registerWalletConnectEvents() {
            // Subscribe to accounts change
            provider.on("accountsChanged", (accounts) => {
                walletDetails.account = accounts[0];
                onConnectedAction();
            });

            // Subscribe to chainId change
            provider.on("chainChanged", async (chainId) => {
                await exitProvider();
            });

            // Subscribe to networkId change
            provider.on("networkChanged", async (networkId) => {
                await exitProvider();
            });

            // Subscribe to provider connection
            provider.on("connect", (info) => {
                //console.log(info);
            });

            // Subscribe to provider disconnection
            provider.on("disconnect", (error) => {
                window.location.reload(true);
            });
        }

        // Wallet connected functions:
        function onConnectedAction() {
            const searchAddress = $("#hdnAddress").val();
            if (searchAddress === undefined || searchAddress === null || searchAddress === "") {
                $("#txtSearchAddressOrEns").val(walletDetails.account);
                $('#hdnAddress').val(walletDetails.account);
                $("#noSearch").hide();
                $("#resultContainer").show();
                $('#erc20TabNav').trigger("click");
                history.replaceState({}, document.title, "/tokenapprovalchecker?search=" + walletDetails.account);
            }

            updateConnectedComponents();
            enableDisableUnapproveBtn();
        }

        function updateConnectedComponents() {
            var truncAccount = truncStringPortion(walletDetails.account, 6, 4, 3);

            const connectWalletBtn = $('#btnConnectWallet');
            connectWalletBtn.html(`<i id="connector" class="fas fa-check-circle text-success me-1"></i>Connected - Web3 [<u>${truncAccount}</u>]`);
            connectWalletBtn.off('click').on('click', function () {
                window.open("/address/" + walletDetails.account);
            });

            $("#btnReset").show();
            $("#btnReset").on('click', async () => {
                await exitProvider();
                window.location.reload();
            });
        }

        function truncStringPortion(str, firstCharCount = str.length, endCharCount = 0, dotCount = 3) {
            var convertedStr = "";
            convertedStr += str.substring(0, firstCharCount);
            convertedStr += ".".repeat(dotCount);
            convertedStr += str.substring(str.length - endCharCount, str.length);
            return convertedStr;
        }

        function enableDisableUnapproveBtn() {
            var searchAddress = $('#hdnAddress').val();
            var unapprovedBtns = $('.btnUnapproveBtnCls');

            if (walletDetails.account && (walletDetails.account.toLowerCase() == searchAddress.toLowerCase())) {
                unapprovedBtns.prop('disabled', false);
                $('.btnTooltipCls').attr('data-bs-title', 'Click to revoke');
            } else {
                unapprovedBtns.prop('disabled', true);
                $('.btnTooltipCls').attr('data-bs-title', 'Connect the address owner\'s wallet to revoke approval.');
            }
        }

        async function exitProvider() {
            if (provider) {
                await provider.close();
                await provider.disconnect();
                // If the cached provider is not cleared,
                // WalletConnect will default to the existing session
                // and does not allow to re-scan the QR code with a new wallet.
                // Depending on your use case you may want or want not his behavir.
                await web3Modal.clearCachedProvider();
                provider = null;
                window.location.reload(true);
            }

            if (walletConnectObj_v2) {
                await walletConnectObj_v2.disconnect();
                window.location.reload(true);
            }
        }


        // ====================================================== Table functions:
        function updateTableComponents() {
            $(".dataTables_info").addClass("p-0");
            $(".dataTables_length").find("label").addClass("d-flex align-items-center gap-2 text-muted");
            $(".dataTables_length").find("select").removeAttr("class").addClass("form-select form-select-sm w-auto");
            $(".dataTables_length").find("select").on("change", function () {
                window.scrollTo(0, 0);
            });
        }

        function filterTokenApproveOnclick(el, dtId, dropdownId) {
            const selectedFilter = $(el);
            const selectedFilterValue = selectedFilter.attr("value");
            const selectedFilterAddress = selectedFilter.attr("addr");

            $(`#${dropdownId}.btn:first-child`).text(selectedFilterValue);
            $(`#${dropdownId}.btn:first-child`).val(selectedFilterValue);
            $(`#${dropdownId}-menu > li > .filter-link.active`).removeClass("active");
            selectedFilter.addClass("active");

            var currentUrl = window.location.href;
            var baseUrl = currentUrl.split('?')[0]
            var currentParams = window.location.search;

            var searchParams = new URLSearchParams(currentParams);
            searchParams.set("filter", selectedFilterAddress);

            var newUrl = baseUrl + '?' + searchParams.toString();
            window.history.replaceState({}, document.title, newUrl);

            $(`#${dtId}`).DataTable().ajax.reload(function () {
                initTooltip();
            });
        }


        // init ERC20
        function initErc20DataTable(isInitCodeBehind) {
            var customFilterClassName = "customErc20filter";

            if (isErc20Initialized == false) {
                const erc20DataTableConfig = JSON.parse(JSON.stringify(dataTableConfig));

                erc20DataTableConfig.deferLoading = null;
                erc20DataTableConfig.dom =
                    `<"d-flex flex-wrap align-items-center justify-content-between gap-2 text-dark"i
                        <"d-flex flex-wrap align-items-center justify-content-between gap-2"
                            <"d-flex flex-wrap align-items-center justify-content-between gap-2 ${customFilterClassName}">
                            p
                        >
                    >
                    <"custom-datatables-processing"r>
                    t
                    <"card-footer d-flex flex-wrap justify-content-between align-items-center gap-3"<"d-flex align-items-center gap-2"l>p>`;
                erc20DataTableConfig.columns = [
                    { data: "TxnHash" },
                    { data: "LastUpdated" },
                    { data: "Token" },
                    { data: "ApprovedSpender" },
                    { data: "ApprovedAmount" },
                    { data: "Action" }
                ];
                erc20DataTableConfig.ajax = {
                    type: "POST",
                    url: "/tokenapprovalchecker.aspx/GetERC20TokenApprovalDataTable",
                    contentType: "application/json",
                    dataType: 'json',
                    data: function (d) {
                        let filterByToken = $(`#${erc20DropdownId}-menu > li > .filter-link.active`).attr('addr');
                        if (noneZeroTokenBalanceToggled == true) {
                            filterByToken = undefined;
                        }
                        const filterModel = { address: $("#hdnAddress").val(), filterByToken, showAll: showAllERC20Approvals };

                        return JSON.stringify({ dataTableModel: d, model: filterModel });
                    },
                    dataFilter: function (res) {
                        const parsed = JSON.parse(res);
                        const morp = parsed.d;

                        if (filterDropDown.length === 0 || noneZeroTokenBalanceToggled == true) {
                            generateCheckboxAndFilter(customFilterClassName, false);
                            noneZeroTokenBalanceToggled = false;
                        } else {
                            var switchTooltip = "Tokens that are held in this address. Click toggle to see all token approvals.";
                            if (showAllERC20Approvals) {
                                switchTooltip = "All token approvals. Click toggle to see only tokens held in this address.";
                            }
                            const tooltip = bootstrap.Tooltip.getInstance("#erc20_showall_approvals_switch_wrapper");
                            tooltip.setContent({ '.tooltip-inner': switchTooltip });
                        }

                        initTooltip();
                        return JSON.stringify(morp);
                    }
                };
                erc20DataTableConfig.drawCallback = drawCallback;
                $("[data-bs-toggle='tooltip']").tooltip('dispose');
                $(erc20TableIdSelector).on('init.dt', function () {
                    $('.dataTables_empty').parent().addClass('alert alert-warning').attr("role", "alert");
                }).DataTable(erc20DataTableConfig);

                if (isInitCodeBehind == true) {
                    generateCheckboxAndFilter(customFilterClassName, true);
                    const initFilter = getFilteredContractName();
                    if (initFilter !== "" && initFilter !== "No Filter") {
                        $(`#${erc20DropdownId}.btn:first-child`).text(initFilter);
                    }
                }

                initTooltip();
                isErc20Initialized = true;
            }
        }

        function erc20FilterOnClick($event) {
            filterTokenApproveOnclick($event, erc20TableId, erc20DropdownId);
        }

        function generateCheckboxAndFilter(customFilterClassName, isInitCodeBehined) {
            filterDropDown = isInitCodeBehined == true ? initDropBoxHtml : getAndGenerateFilterListForERC20($("#hdnAddress").val())

            const checkboxState = showAllERC20Approvals ? "checked" : "";
            const checkbox = generateERC20CheckBoxSwitch(checkboxState);
            const checkboxAndFilter = `${checkbox}${filterDropDown}`;
            $('div.' + customFilterClassName).html(checkboxAndFilter);
        }

        function getAndGenerateFilterListForERC20(address) {
            let filterList = "";
            $.ajax({
                method: "POST",
                url: '/tokenapprovalchecker.aspx/GetERC20TokenApprovalForFilter',
                contentType: "application/json",
                dataType: "json",
                async: false,
                data: JSON.stringify({ address, showAll: showAllERC20Approvals }),
                success: function (data) {
                    if (data && data.d) {
                        filterList = generateFilterListForERC20(data.d);
                    }
                },
                error: function () {
                }
            });

            return filterList;
        }

        function generateFilterListForERC20(uniqueContracts) {
            let dropdownCss = ``;
            let dropdownItems = ``;
            if (uniqueContracts && uniqueContracts.length > 0) {
                uniqueContracts.forEach(x => {
                    const badTokenCss = x.IsBadToken === true ? "text-danger" : "";
                    dropdownItems +=
                        `<li class="nav-item">
                            <a class="nav-link filter-link d-flex align-items-center gap-1 ${badTokenCss}" href="javascript:void(0);" onclick='filterTokenApproveOnclick(this, "${erc20TableId}", "${erc20DropdownId}")' addr="${x.Address}" value="${x.TokenName}">
                                <img class="rounded-circle" widht="18" height="18" src="${x.TokenUrl}"></img>
                                ${x.TokenName}
                            </a>
                            <hr class="mt-2 mb-1">
                        </li>`
                });
            } else {
                dropdownCss = "disabled";
            }

            const noFilterOption =
                `<li class="nav-item">
                    <a class="nav-link filter-link d-flex align-items-center gap-1 active" href="javascript:void(0);" onclick='filterTokenApproveOnclick(this, "${erc20TableId}", "${erc20DropdownId}");' addr="" value="No Filter">
                        No Filter
                    </a>
                    <hr class="mt-2 mb-1">
                </li>`
            const result =
                `<div class="dropdown ${dropdownCss}">
                    <button class="btn btn-sm btn-white text-start w-100 dropdown-toggle px-3" type="button" id="${erc20DropdownId}" data-bs-toggle="dropdown" aria-expanded="false">
                        <i class="far fa-filter text-muted me-1"></i>Filter by
                    </button>
                    <div class="dropdown-menu dropdown-menu-sm-end" aria-labelledby="${erc20DropdownId}" style="width: max-content;">
                        <div class="overflow-auto scrollbar-custom pe-1" style="max-height: 19rem;">
                            <ul id="${erc20DropdownId}-menu" class="list nav nav-pills nav-pills-flush nav-list flex-column w-100">
                                ${noFilterOption}
                                ${dropdownItems}
                            </ul>
                        </div>                        
                    </div>
                </div>
                `;

            return result;
        }

        function generateERC20CheckBoxSwitch(checkboxState) {
            var switchTooltip = "Tokens that are held in this address. Click toggle to see all token approvals.";
            if (checkboxState == "checked") {
                switchTooltip = "All token approvals. Click toggle to see only tokens held in this address.";
            }
            var html =
                `<div class="d-flex align-items-center justify-content-between gap-1">
                    <i class="far fa-question-circle text-secondary" data-bs-toggle="tooltip" data-bs-trigger="hover" data-bs-title="Review approval of only tokens held in this address or of all tokens."></i>
                    <div id="erc20_showall_approvals_switch_wrapper" class="form-check form-switch form-check-reverse mb-0 pt-0.5" data-bs-toggle="tooltip" data-bs-trigger="hover" data-bs-title="${switchTooltip}">
                        <input class="form-check-input" type="checkbox" role="switch" id="erc20_showall_approvals_switch" onclick="event.preventDefault();toggleERC20ZeroBalanceTokenSwitch(this);" ${checkboxState}>
                        <label class="form-check-label" for="erc20_showall_approvals_switch">
                            Show all approvals
                        </label>
                    </div>
                </div>`;

            return html;
        }

        function toggleERC20ZeroBalanceTokenSwitch(el) {
            showAllERC20Approvals = $(el).is(":checked");
            noneZeroTokenBalanceToggled = true;
            const tooltip = bootstrap.Tooltip.getInstance("#erc20_showall_approvals_switch_wrapper");
            tooltip.hide();
            replaceUrl(0, erc20DropdownId, true);
            $(erc20TableIdSelector).DataTable().ajax.reload(function () {
                initTooltip();
            });
        }

        async function getCurrentAllowance(tokenAddress, tokenDecimal, ownerAddress, spenderAddress) {
            try {
                const tokenAllowanceForSpender = `${tokenAddress}_${spenderAddress}`;
                const currentAllowanceForSpender = erc20TokenAllowances.get(tokenAllowanceForSpender);
                if (currentAllowanceForSpender) {
                    return Promise.resolve(currentAllowanceForSpender);
                }

                const requestModel = {
                    "tokenAddress": tokenAddress,
                    "tokenDecimal": tokenDecimal,
                    "ownerAddress": ownerAddress,
                    "spenderAddress": spenderAddress
                };
                const response = await $.ajax({
                    type: "POST",
                    url: "/tokenapprovalchecker.aspx/GetERC20CurrentApprovalAllowance",
                    contentType: "application/json",
                    dataType: 'json',
                    data: JSON.stringify({ requestModel: requestModel })
                });

                if (response) {
                    erc20TokenAllowances.set(tokenAllowanceForSpender, response.d);
                    return response.d;
                } else {
                    return "unavailable";
                }
            } catch (ex) {
                console.error(ex);
            }
        }


        // ====================================================== ERC721 functions
        function initErc721TokenApprovalTable(isInitCodeBehind) {
            var customFilterClassName = "customErc721filter";

            if (isErc721ApprovedInitialized == false) {
                const erc721DataTableConfig = JSON.parse(JSON.stringify(dataTableConfig));

                erc721DataTableConfig.deferLoading = null;
                erc721DataTableConfig.dom =
                    `<"d-flex flex-wrap align-items-center justify-content-between gap-2 text-dark"i
                        <"d-flex flex-wrap align-items-center justify-content-between gap-3"
                            <"d-flex flex-wrap align-items-center justify-content-between gap-1 ${customFilterClassName}">
                            p
                        >
                    >
                    <"custom-datatables-processing"r>
                    t
                    <"card-footer d-flex flex-wrap justify-content-between align-items-center gap-3"<"d-flex align-items-center gap-2"l>p>`;
                erc721DataTableConfig.columns = [
                    { data: "TxnHash" },
                    { data: "LastUpdated" },
                    { data: "Token" },
                    { data: "ApprovedSpender" },
                    { data: "TokenId", className: "text-center" },
                    { data: "Action" }
                ];
                erc721DataTableConfig.ajax = {
                    type: "POST",
                    url: "/tokenapprovalchecker.aspx/GetERC721TokenApprovalDataTable",
                    contentType: "application/json",
                    dataType: 'json',
                    data: function (d) {
                        const filterByToken = $(`#${erc721DropdownId}-menu > li > .filter-link.active`).attr('addr');
                        const filterModel = { address: $("#hdnAddress").val(), filterByToken: filterByToken };

                        return JSON.stringify({ dataTableModel: d, model: filterModel });

                    },
                    dataFilter: function (res) {
                        const parsed = JSON.parse(res);
                        const morp = parsed.d;

                        if (filterDropDownErc721.length === 0) {
                            generateERC721CheckboxAndFilter(customFilterClassName, false);
                        }

                        initTooltip();
                        return JSON.stringify(morp);
                    }
                }
                erc721DataTableConfig.drawCallback = drawCallback;
                $("[data-bs-toggle='tooltip']").tooltip('dispose');
                $('#' + erc721TableId).on('init.dt', function () {
                    $('.dataTables_empty').parent().addClass('alert alert-warning').attr("role", "alert");
                }).DataTable(erc721DataTableConfig);

                if (isInitCodeBehind == true) {
                    generateERC721CheckboxAndFilter(customFilterClassName, true);

                    const initFilter = getFilteredContractName();
                    if (initFilter !== "" && initFilter !== "No Filter") {
                        $(`#${erc721DropdownId}.btn:first-child`).text(initFilter);
                    }

                    $("#" + erc721TableId).show();
                    $("#" + erc721ForAllTableId).hide();
                }

                initTooltip();
                isErc721ApprovedInitialized = true;
            }
        }

        function initErc721TokenApprovalForAllTable(isInitCodeBehind) {
            var customFilterClassName = "customErc721ForAllfilter";

            if (isErc721ForAllInitialized == false) {
                const erc721ForAllDataTableConfig = JSON.parse(JSON.stringify(dataTableConfig));

                erc721ForAllDataTableConfig.deferLoading = null;
                erc721ForAllDataTableConfig.dom =
                    `<"d-flex flex-wrap align-items-center justify-content-between gap-2 text-dark"i
                        <"d-flex flex-wrap align-items-center justify-content-between gap-3"
                            <"d-flex flex-wrap align-items-center justify-content-between gap-1 ${customFilterClassName}">
                            p
                        >
                    >
                    <"custom-datatables-processing"r>
                    t
                    <"card-footer d-flex flex-wrap justify-content-between align-items-center gap-3"<"d-flex align-items-center gap-2"l>p>`;
                erc721ForAllDataTableConfig.columns = [
                    { data: "TxnHash" },
                    { data: "LastUpdated" },
                    { data: "Token" },
                    { data: "ApprovedSpender" },
                    { data: "Action" }
                ];
                erc721ForAllDataTableConfig.ajax = {
                    type: "POST",
                    url: "/tokenapprovalchecker.aspx/GetERC721TokenApprovalForAllDataTable",
                    contentType: "application/json",
                    dataType: 'json',
                    data: function (d) {
                        var filterByToken = $(`#${erc721ForAllDropdownId}-menu > li > .filter-link.active`).attr('addr');
                        var addressModel = { address: $("#hdnAddress").val(), filterByToken: filterByToken };

                        return JSON.stringify({ dataTableModel: d, model: addressModel });
                    },
                    dataFilter: function (res) {
                        var parsed = JSON.parse(res);
                        var morp = parsed.d;

                        if (filterDropDownErc721ForAll.length === 0) {
                            generateERC721CheckboxAndFilter(customFilterClassName, false);
                        }

                        initTooltip();
                        return JSON.stringify(morp);
                    }
                }
                erc721ForAllDataTableConfig.drawCallback = drawCallback;
                $("[data-bs-toggle='tooltip']").tooltip('dispose');
                $('#' + erc721ForAllTableId).on('init.dt', function () {
                    $('.dataTables_empty').parent().addClass('alert alert-warning').attr("role", "alert");
                }).DataTable(erc721ForAllDataTableConfig);

                if (isInitCodeBehind == true) {
                    generateERC721CheckboxAndFilter(customFilterClassName, true);

                    const initFilter = getFilteredContractName();
                    if (initFilter !== "" && initFilter !== "No Filter") {
                        $(`#${erc721ForAllDropdownId}.btn:first-child`).text(initFilter);
                    }

                    $("#" + erc721TableId).hide();
                    $("#" + erc721ForAllTableId).show();

                }

                initTooltip();
                isErc721ForAllInitialized = true;
            }
        }

        function erc721FilterOnClick($event) {
            const dropdownId = $($event).data("dropdown-id");

            if (dropdownId === erc721DropdownId) {
                filterTokenApproveOnclick($event, erc721TableId, erc721DropdownId);
            }
            else if (dropdownId === erc721ForAllDropdownId) {
                filterTokenApproveOnclick($event, erc721ForAllTableId, erc721ForAllDropdownId);
            }
        }

        function generateERC721CheckboxAndFilter(customFilterClassName, isInitCodeBehined) {
            let dropdownHtml = "";
            const searchAddress = $("#hdnAddress").val();
            if (erc721TableState === approvedForAllTxt) {
                filterDropDownErc721ForAll = isInitCodeBehined == true ? initDropBoxHtml : getAndGenerateFilterListForErc721ForAll(searchAddress);

                dropdownHtml = filterDropDownErc721ForAll;
            }
            else {
                filterDropDownErc721 = isInitCodeBehined == true ? initDropBoxHtml : getAndGenerateFilterListForErc721(searchAddress);

                dropdownHtml = filterDropDownErc721;
            }

            const checkbox = generateERC721CheckBoxSwitch();
            const checkboxAndFilter = `${checkbox}${dropdownHtml}`;
            $('div.' + customFilterClassName).html(checkboxAndFilter);
        }

        function generateERC721CheckBoxSwitch() {
            let switchTooltip = "";
            let switchLabel = "";
            let switchId = "";
            let checkboxState = "";
            if (erc721TableState === approvedForAllTxt) {
                switchTooltip = "Token approvals filtered by Contract. Click toggle to filter by Token ID."
                switchLabel = "By Contract"
                switchId = "checkbox_erc721_switch_forAll";
                checkboxState = `checked`;
            } else {
                switchTooltip = "Token approvals filtered by Token ID. Click toggle to filter by Contract."
                switchLabel = "By Token ID"
                switchId = "checkbox_erc721_switch";
            }

            var html =
                `<div class="d-flex align-items-center justify-content-between gap-1">
                    <i class="far fa-question-circle text-secondary me-1" data-bs-toggle="tooltip" data-bs-trigger="hover" data-bs-title="Review token approval by token contract or per token ID."></i>
                    <div class="form-check form-switch form-check-reverse mb-0 pt-0.5" data-bs-toggle="tooltip" data-bs-trigger="hover" data-bs-title="${switchTooltip}">
                        <input class="form-check-input" type="checkbox" role="switch" id="${switchId}" onclick="event.preventDefault();toggleErc721Switch();" ${checkboxState}>
                        <label class="form-check-label" for="${switchId}" id="${switchId}_label">
                            ${switchLabel}
                        </label>
                    </div>
                </div>`;

            return html;
        }

        function toggleErc721Switch() {
            if (erc721TableState === approvedTxt) {
                $("#" + erc721TableId + "_wrapper").hide();

                if (isErc721ForAllInitialized == false) {
                    initErc721TokenApprovalForAllTable();

                    $("#" + erc721ForAllTableId).show();
                    $("#" + erc721ForAllTableId + "_wrapper").show();
                } else {
                    $("#" + erc721ForAllTableId + "_wrapper").show();
                }

                replaceUrl(2, erc721ForAllDropdownId);
                erc721TableState = approvedForAllTxt;

            } else if (erc721TableState === approvedForAllTxt) {
                $("#" + erc721ForAllTableId + "_wrapper").hide();

                if (isErc721ApprovedInitialized == false) {
                    initErc721TokenApprovalTable();

                    $("#" + erc721TableId).show();
                    $("#" + erc721TableId + "_wrapper").show();
                } else {
                    $("#" + erc721TableId + "_wrapper").show();
                }

                replaceUrl(1, erc721DropdownId);
                erc721TableState = approvedTxt;
            }
        }

        function getAndGenerateFilterListForErc721(address) {
            let filterList = "";
            $.ajax({
                method: "POST",
                contentType: "application/json",
                dataType: "json",
                async: false,
                url: '/tokenapprovalchecker.aspx/GetERC721TokenApprovalForFilter',
                data: JSON.stringify({ address: address }),
                success: function (data) {
                    if (data && data.d) {
                        filterList = generateFilterListForErc721(data.d, erc721TableId, erc721DropdownId);
                    }
                },
                error: function () {
                }
            })

            return filterList;
        }

        function getAndGenerateFilterListForErc721ForAll(address) {
            let filterList = "";
            $.ajax({
                method: "POST",
                url: '/tokenapprovalchecker.aspx/GetERC721TokenApprovalForAllForFilter',
                contentType: "application/json",
                dataType: "json",
                async: false,
                data: JSON.stringify({ address: address }),
                success: function (data) {
                    if (data && data.d) {
                        filterList = generateFilterListForErc721(data.d, erc721ForAllTableId, erc721ForAllDropdownId);
                    }
                },
                error: function () {
                }
            })

            return filterList;
        }

        function generateFilterListForErc721(uniqueContracts, tableId, dropdownId) {
            let dropdownCss = ``;
            let dropdownItems = ``;
            if (uniqueContracts && uniqueContracts.length > 0) {
                uniqueContracts.forEach(x => {
                    const badTokenCss = x.IsBadToken === true ? "text-danger" : "";
                    dropdownItems +=
                        `<li  class="nav-item">
                            <a class="nav-link filter-link d-flex align-items-center gap-1 ${badTokenCss}" href="javascript:void(0);" onclick='filterTokenApproveOnclick(this, "${tableId}", "${dropdownId}")' addr="${x.Address}" value="${x.TokenName}">
                                <img class="rounded-circle" widht="18" height="18" src="${x.TokenUrl}"></img>
                                ${x.TokenName}
                            </a>
                            <hr class="mt-2 mb-1">
                        </li>`
                });
            } else {
                dropdownCss = "disabled";
            }

            const noFilterOption =
                `<li  class="nav-item">
                    <a class="nav-link filter-link d-flex align-items-center gap-1 active" href="javascript:void(0);" onclick='filterTokenApproveOnclick(this, "${tableId}", "${dropdownId}");' addr="" value="No Filter">
                        No Filter
                    </a>
                    <hr class="mt-2 mb-1">
                </li>`
            const result =
                `<div class="dropdown ${dropdownCss}">
                    <button class="btn btn-sm btn-white text-start w-100 dropdown-toggle px-3" type="button" id="${dropdownId}" data-bs-toggle="dropdown" aria-expanded="false">
                        <i class="far fa-filter text-muted me-1"></i>Filter by
                    </button>
                    <div class="dropdown-menu dropdown-menu-sm-end" aria-labelledby="${dropdownId}" style="width: max-content;">
                        <div class="overflow-auto scrollbar-custom pe-1" style="max-height: 19rem;">
                            <ul id="${dropdownId}-menu" class="list nav nav-pills nav-pills-flush nav-list flex-column w-100">
                                ${noFilterOption}
                                ${dropdownItems}
                            </ul>
                        </div>
                    </div>
                </div>`;

            return result;
        }


        // ====================================================== ERC1155 functions
        function initErc1155TokenApprovalTable(isInitCodeBehind) {
            var customFilterClassName = "customErc1155ForAllfilter";

            if (isERC1155TableInitialized === false) {
                const erc1155DataTableConfig = JSON.parse(JSON.stringify(dataTableConfig));

                erc1155DataTableConfig.deferLoading = null;
                erc1155DataTableConfig.dom =
                    `<"d-flex flex-wrap align-items-center justify-content-between gap-2 text-dark"i
                        <"d-flex flex-wrap align-items-center justify-content-between gap-3"
                            <"d-flex flex-wrap align-items-center justify-content-between gap-1 ${customFilterClassName}">
                            p
                        >
                    >
                    <"custom-datatables-processing"r>
                    t
                    <"card-footer d-flex flex-wrap justify-content-between align-items-center gap-3"<"d-flex align-items-center gap-2"l>p>`;
                erc1155DataTableConfig.columns = [
                    { data: "TxnHash" },
                    { data: "LastUpdated" },
                    { data: "Token" },
                    { data: "ApprovedSpender" },
                    { data: "Action" }
                ];
                erc1155DataTableConfig.ajax = {
                    type: "POST",
                    url: "/tokenapprovalchecker.aspx/GetERC1155TokenApprovalDataTable",
                    contentType: "application/json",
                    dataType: 'json',
                    data: function (d) {
                        const filterByToken = $(`#${erc1155DropdownId}-menu > li > .filter-link.active`).attr('addr');
                        const addressModel = { address: $("#hdnAddress").val(), filterByToken: filterByToken };

                        return JSON.stringify({ dataTableModel: d, model: addressModel });
                    },
                    dataFilter: function (res) {
                        const parsed = JSON.parse(res);
                        const morp = parsed.d;

                        if (erc1155DropdownFilter.length === 0) {
                            erc1155DropdownFilter = getAndGenerateFilterListForErc1155($("#hdnAddress").val());
                            $('div.' + customFilterClassName).html(erc1155DropdownFilter);
                        }

                        initTooltip();
                        return JSON.stringify(morp);
                    }
                };
                erc1155DataTableConfig.drawCallback = drawCallback;
                $("[data-bs-toggle='tooltip']").tooltip('dispose');
                $('#' + erc1155TableId).on('init.dt', function () {
                    $('.dataTables_empty').parent().addClass('alert alert-warning').attr("role", "alert");
                }).DataTable(erc1155DataTableConfig);

                if (isInitCodeBehind == true) {
                    erc1155DropdownFilter = initDropBoxHtml;
                    $('div.' + customFilterClassName).html(erc1155DropdownFilter);

                    const initFilter = getFilteredContractName();
                    if (initFilter !== "" && initFilter !== "No Filter") {
                        $(`#${erc1155DropdownId}.btn:first-child`).text(initFilter);
                    }
                }

                initTooltip();
                isERC1155TableInitialized = true;
            }
        }

        function getAndGenerateFilterListForErc1155(address) {
            let filterList = "";
            $.ajax({
                method: "POST",
                url: '/tokenapprovalchecker.aspx/GetERC1155TokenApprovalForFilter',
                contentType: "application/json",
                dataType: "json",
                async: false,
                data: JSON.stringify({ address: address }),
                success: function (data) {
                    if (data && data.d) {
                        filterList = generateFilterListForErc1155(data.d);
                    }
                },
                error: function () {
                }
            })

            return filterList;
        }

        function generateFilterListForErc1155(uniqueContracts) {
            let dropdownCss = ``;
            let dropdownItems = ``;
            if (uniqueContracts && uniqueContracts.length > 0) {
                uniqueContracts.forEach(x => {
                    const badTokenCss = x.IsBadToken === true ? "text-danger" : "";
                    dropdownItems +=
                        `<li class="nav-item">
                            <a class="nav-link filter-link d-flex align-items-center gap-1 ${badTokenCss}" href="javascript:void(0);" onclick='filterTokenApproveOnclick(this, "${erc1155TableId}", "${erc1155DropdownId}")' addr="${x.Address}" value="${x.TokenName}">
                                <img class="rounded-circle" widht="18" height="18" src="${x.TokenUrl}"></img>
                                ${x.TokenName}
                            </a>
                            <hr class="mt-2 mb-1">
                        </li>`
                });
            } else {
                dropdownCss = "disabled";
            }

            const noFilterOption =
                `<li class="nav-item">
                    <a class="nav-link filter-link d-flex align-items-center gap-1 active" href="javascript:void(0);" onclick='filterTokenApproveOnclick(this, "${erc1155TableId}", "${erc1155DropdownId}");' addr="" value="No Filter">
                        No Filter
                    </a>
                    <hr class="mt-2 mb-1">
                </li>`
            const result =
                `<div class="dropdown ${dropdownCss}">
                    <button class="btn btn-sm btn-white text-start w-100 dropdown-toggle px-3" type="button" id="${erc1155DropdownId}" data-bs-toggle="dropdown" aria-expanded="false">
                        <i class="far fa-filter text-muted me-1"></i>Filter by
                    </button>
                    <div class="dropdown-menu dropdown-menu-sm-end" aria-labelledby="${erc1155DropdownId}" style="width: max-content;">
                        <div class="overflow-auto scrollbar-custom pe-1" style="max-height: 19rem;">
                            <ul id="${erc1155DropdownId}-menu" class="list nav nav-pills nav-pills-flush nav-list flex-column w-100">
                                ${noFilterOption}
                                ${dropdownItems}
                            </ul>
                        </div>
                    </div>
                </div>`;

            return result;
        }

        function erc1155FilterOnClick($event) {
            filterTokenApproveOnclick($event, erc1155TableId, erc1155DropdownId);
        }


        // ====================================================== Common functions
        function setAcceptedChainId() {
            let networkid = "";
            switch (net) {
                case "mainnet":
                    networkid = '1'
                    break
                case "morden":
                    networkid = '2'
                    break
                case "ropsten":
                    networkid = '3';
                    break
                case "rinkeby":
                    networkid = '4';
                    break
                case "goerli":
                    networkid = '5';
                    break;
                case "kovan":
                    networkid = '2a';
                    break
                case "sepolia":
                    networkid = 'AA36A7';
                    break
                case "holesky":
                    networkid = '4268';
                    break
                case "ecw":
                    networkid = 'f6';
                    break
                default:
                    break;
            }
            acceptedChainId = '0x' + networkid;
        }

        function openModal() {
            if (!walletDetails || (Object.keys(walletDetails).length === 0 && Object.getPrototypeOf(walletDetails) === Object.prototype)) {
                var msg = 'Please take note that this is a beta version feature and is provided on an "as is" and "as available" basis. Etherscan does not give any warranties and will not be liable for any loss, direct or indirect through continued use of this feature.';
                if (confirm(msg)) {
                    const myModal = new bootstrap.Modal('#connectWalletModal', {
                        backdrop: "static"
                    });
                    myModal.show();
                }
            }
        }

        function submitUnapproveContract(tokenAddr, spenderAddr, sender, approvalType, successCallback, errorCallback, is721, tokenId) {
            const setApprovalForAllAbi = '{"inputs":[{"internalType":"address","name":"operator","type":"address"},{"internalType":"bool","name":"approved","type":"bool"}],"name":"setApprovalForAll","outputs":[],"stateMutability":"nonpayable","type":"function"}';
            const approvalAbi = '{"constant":false,"inputs":[{"internalType":"address","name":"usr","type":"address"},{"internalType":"uint256","name":"wad","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"}';

            const abi = `[${approvalAbi} , ${setApprovalForAllAbi}]`;
            connectedWalletType = connectedWalletType.toLowerCase();
            let contractInstance = {};
            if (connectedWalletType === walletTypes.metamask) {
                contractInstance = new window.web3.eth.Contract(JSON.parse(abi), tokenAddr);
            } else if (connectedWalletType === walletTypes.walletconnect || connectedWalletType === walletTypes.walletlink) {
                contractInstance = new window.web3.eth.Contract(JSON.parse(abi), tokenAddr);
            }

            if (approvalType === approvalTypes.approve) {
                if (is721 == '1') {
                    contractInstance.methods.approve('0x0000000000000000000000000000000000000000', tokenId).send({ from: sender, maxPriorityFeePerGas: null, maxFeePerGas: null, })
                        .on('transactionHash', successCallback)
                        .on('error', errorCallback);
                } else {
                    contractInstance.methods.approve(spenderAddr, 0).send({ from: sender, maxPriorityFeePerGas: null, maxFeePerGas: null, })
                        .on('transactionHash', successCallback)
                        .on('error', errorCallback);
                }

            } else if (approvalType === approvalTypes.approveForAll) {
                contractInstance.methods.setApprovalForAll(spenderAddr, false).send({ from: sender, maxPriorityFeePerGas: null, maxFeePerGas: null, })
                    .on('transactionHash', successCallback)
                    .on('error', errorCallback);
            }


            $("#unApproveModal").one('hidden.bs.modal', function () {
                result.off('transactionHash').off('error');
            })
        }

        function replaceUrl(type, dropdownId, removeFilter = false) {
            const currentParams = window.location.search;
            const searchParams = new URLSearchParams(currentParams);

            const searchedAddress = searchParams.get("search");
            let url = `/tokenapprovalchecker?type=${type}&search=${searchedAddress}`;

            var currentFilterAddress = $(`#${dropdownId}-menu > li > .filter-link.active`).attr('addr');
            if (currentFilterAddress?.length > 0 && removeFilter === false) {
                url += `&filter=${currentFilterAddress}`;
            }

            history.replaceState({}, document.title, url);
        }

        var offsetHoursFinal;
        var ageClass = ".showAge";
        var dateTimeClass = ".showDate";
        var localDateTimeClass = ".showLocalDate"

        function switchAgeToDateTime(el) {
            const self = $(el);
            const tooltip = bootstrap.Tooltip.getInstance(self);
            if (dateAgeState == 'date') {
                dateAgeState = 'age';
                $(el).html("Age")
                $('.showAge').show();

                //check display UTC or Local datetime
                //convertUtcToLocalDateTime();

                $('.showDate').hide();
                tooltip.setContent({ '.tooltip-inner': 'Click to show DateTime format' });
            } else {
                dateAgeState = 'date';
                $(el).html("Last Updated (UTC)")
                $('.showDate').show();

                //check display UTC or Local datetime
                convertUtcToLocalDateTime();
                if (offsetHoursFinal !== undefined) {
                    $(el).html("Last Updated (Local)")
                }

                $('.showAge').hide();
                tooltip.setContent({ '.tooltip-inner': 'Click to show Age format' });
            }
        }

        function convertUtcToLocalDateTime() {
            strDateTimeFormat = getCookie("etherscan_datetime_format");
            if (strDateTimeFormat === "LOCAL") {

                var localDateTimeArray = new Array();
                //var offsetHoursFinal;
                const tzid = Intl.DateTimeFormat().resolvedOptions().timeZone;

                if ($(localDateTimeClass).length > 0) {

                    var $localDatetimeColumn = $(localDateTimeClass);
                    $localDatetimeColumn.each(function (i, v) {
                        const unixTimestamp = v.innerText;
                        const utcDate = new Date(unixTimestamp * 1000);
                        const offsetMinutes = utcDate.getTimezoneOffset();
                        const offsetHours = Math.abs(offsetMinutes / 60);
                        const sign = offsetMinutes > 0 ? '-' : '+';
                        offsetHoursFinal = sign + offsetHours;
                        const localDateTime = utcDate.toLocaleString("sv-SE", {
                            timeZone: tzid,
                            year: "numeric",
                            month: "2-digit",
                            day: "2-digit",
                            hour: "2-digit",
                            minute: "2-digit",
                            second: "2-digit",
                        });

                        var html = v.innerHTML;
                        var content = html.replace(unixTimestamp, localDateTime);
                        localDateTimeArray.push(content);

                    });
                }

                for (var j = 0; j < localDateTimeArray.length; j++) {
                    var datetimeColumn = $(dateTimeClass);
                    datetimeColumn[j].innerHTML = handleHtmlString(localDateTimeArray[j]);
                }

                for (var k = 0; k < localDateTimeArray.length; k++) {
                    var utc = $($(ageClass)[k]).attr("data-bs-title");
                    var ageHtml = $(ageClass)[k].innerHTML;
                    var content = ageHtml.replace(utc, localDateTimeArray[k]);
                    $(ageClass)[k].innerHTML = handleHtmlString(content);
                }
            }
        }

        function handleHtmlString(strVal) {
            strVal = strVal.replace('@', '').replace("'", "").replace("*", "").replace("(", "").replace(")", "").replace(";", "").replace(",", "").replace("<script", "").trim();
            return strVal;
        }

        function getFilteredContractName() {
            return $("#hdnFilteredContractName").attr("value");
        }

        function initTooltip() {
            HSCore.components.HSClipboard.init('.js-clipboard');
            setTimeout(function () {
                $(`[data-bs-toggle="tooltip"]`).tooltip();
            }, 0);
        }
    </script>


<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'8ec1df506df92a91',t:'MTczMzIxMTI0Ni4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='cdn-cgi/challenge-platform/h/b/scripts/jsd/a6e12e96a2d5/maind41d.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>

<!-- Mirrored from etherscan.io/tokenapprovalchecker by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 03 Dec 2024 07:34:47 GMT -->
</html>
